<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Manual Fix - FlashPost</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: linear-gradient(135deg, #0f0f14 0%, #1a1a2e 50%, #16213e 100%);
            color: white;
            font-family: 'Inter', sans-serif;
            padding: 20px;
            min-height: 100vh;
        }
        
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 30px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .test-button {
            background: linear-gradient(45deg, #833ab4, #fd1d1d);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            margin: 10px;
            transition: all 0.3s ease;
            font-size: 16px;
        }
        
        .test-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(131, 58, 180, 0.3);
        }
        
        .status {
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
        }
        
        .status-success {
            background: rgba(40, 167, 69, 0.2);
            border: 1px solid #28a745;
            color: #28a745;
        }
        
        .status-error {
            background: rgba(220, 53, 69, 0.2);
            border: 1px solid #dc3545;
            color: #dc3545;
        }
        
        .status-info {
            background: rgba(23, 162, 184, 0.2);
            border: 1px solid #17a2b8;
            color: #17a2b8;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>üîß Test Manual Fix</h1>
        <p>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –≤–≤–æ–¥–∞ –∏ —Å–æ–∑–¥–∞–Ω–∏—è –∏–∑ —Ç–µ–∫—Å—Ç–∞</p>
        
        <!-- –¢–µ—Å—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–π -->
        <div class="test-section">
            <h2>üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–π</h2>
            <button class="test-button" onclick="testFunctionAvailability()">
                üîç –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏
            </button>
            <div id="functionResults"></div>
        </div>
        
        <!-- –¢–µ—Å—Ç –æ—Ç–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ -->
        <div class="test-section">
            <h2>üìù –¢–µ—Å—Ç –æ—Ç–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞</h2>
            <button class="test-button" onclick="testModalOpen()">
                üìù –û—Ç–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
            </button>
            <div id="modalResults"></div>
        </div>
        
        <!-- –¢–µ—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è –∏–∑ —Ç–µ–∫—Å—Ç–∞ -->
        <div class="test-section">
            <h2>üìÑ –¢–µ—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ä—É—Å–µ–ª–∏ –∏–∑ —Ç–µ–∫—Å—Ç–∞</h2>
            <button class="test-button" onclick="testTextToSlides()">
                üìÑ –¢–µ—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è –∏–∑ —Ç–µ–∫—Å—Ç–∞
            </button>
            <div id="textResults"></div>
        </div>
        
        <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã -->
        <div class="test-section">
            <h2>üìä –û–±—â–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</h2>
            <div id="overallResults">
                <p>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫–∏ –≤—ã—à–µ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è...</p>
            </div>
        </div>
    </div>

    <script>
        let testResults = {
            functions: false,
            modal: false,
            textCreation: false
        };

        function showResult(containerId, message, type) {
            const container = document.getElementById(containerId);
            const statusClass = `status-${type}`;
            
            container.innerHTML = `
                <div class="status ${statusClass}">
                    ${message}
                </div>
            `;
        }

        function updateOverallResults() {
            const container = document.getElementById('overallResults');
            const passed = Object.values(testResults).filter(r => r).length;
            const total = Object.keys(testResults).length;
            
            let html = `<h3>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: ${passed}/${total}</h3>`;
            
            for (const [test, result] of Object.entries(testResults)) {
                const status = result ? '‚úÖ' : '‚ùå';
                const testName = {
                    functions: '–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–π',
                    modal: '–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ',
                    textCreation: '–°–æ–∑–¥–∞–Ω–∏–µ –∏–∑ —Ç–µ–∫—Å—Ç–∞'
                }[test];
                
                html += `<div class="status ${result ? 'status-success' : 'status-error'}">
                    ${status} ${testName}
                </div>`;
            }
            
            container.innerHTML = html;
        }

        function testFunctionAvailability() {
            showResult('functionResults', 'üîÑ –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–π...', 'info');
            
            try {
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
                const manualModal = document.getElementById('manualModal');
                const manualBtn = document.getElementById('manualBtn');
                const manualTextInput = document.getElementById('manualTextInput');
                const createManualBtn = document.getElementById('createManualBtn');
                
                let issues = [];
                
                if (!manualModal) issues.push('–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ (#manualModal) –Ω–µ –Ω–∞–π–¥–µ–Ω–æ');
                if (!manualBtn) issues.push('–ö–Ω–æ–ø–∫–∞ —Ä—É—á–Ω–æ–≥–æ –≤–≤–æ–¥–∞ (#manualBtn) –Ω–µ –Ω–∞–π–¥–µ–Ω–∞');
                if (!manualTextInput) issues.push('–ü–æ–ª–µ –≤–≤–æ–¥–∞ —Ç–µ–∫—Å—Ç–∞ (#manualTextInput) –Ω–µ –Ω–∞–π–¥–µ–Ω–æ');
                if (!createManualBtn) issues.push('–ö–Ω–æ–ø–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è (#createManualBtn) –Ω–µ –Ω–∞–π–¥–µ–Ω–∞');
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ app –æ–±—ä–µ–∫—Ç–∞
                if (!window.app) {
                    issues.push('–û–±—ä–µ–∫—Ç window.app –Ω–µ –Ω–∞–π–¥–µ–Ω');
                } else {
                    if (typeof window.app.openManualInput !== 'function') {
                        issues.push('–§—É–Ω–∫—Ü–∏—è openManualInput –Ω–µ –Ω–∞–π–¥–µ–Ω–∞');
                    }
                    if (typeof window.app.generateSlidesFromText !== 'function') {
                        issues.push('–§—É–Ω–∫—Ü–∏—è generateSlidesFromText –Ω–µ –Ω–∞–π–¥–µ–Ω–∞');
                    }
                    if (typeof window.app.createManualCarousel !== 'function') {
                        issues.push('–§—É–Ω–∫—Ü–∏—è createManualCarousel –Ω–µ –Ω–∞–π–¥–µ–Ω–∞');
                    }
                }
                
                if (issues.length === 0) {
                    testResults.functions = true;
                    showResult('functionResults', '‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã!', 'success');
                } else {
                    testResults.functions = false;
                    showResult('functionResults', `‚ùå –ù–∞–π–¥–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã:\n${issues.join('\n')}`, 'error');
                }
                
            } catch (error) {
                testResults.functions = false;
                showResult('functionResults', `‚ùå –û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏: ${error.message}`, 'error');
            }
            
            updateOverallResults();
        }

        function testModalOpen() {
            showResult('modalResults', 'üîÑ –¢–µ—Å—Ç–∏—Ä—É–µ–º –æ—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞...', 'info');
            
            try {
                if (!window.app) {
                    throw new Error('window.app –Ω–µ –Ω–∞–π–¥–µ–Ω');
                }
                
                if (typeof window.app.openManualInput !== 'function') {
                    throw new Error('–§—É–Ω–∫—Ü–∏—è openManualInput –Ω–µ –Ω–∞–π–¥–µ–Ω–∞');
                }
                
                // –ü—Ä–æ–±—É–µ–º –æ—Ç–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
                window.app.openManualInput();
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –æ—Ç–∫—Ä—ã–ª–æ—Å—å –ª–∏ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
                setTimeout(() => {
                    const manualModal = document.getElementById('manualModal');
                    if (manualModal && manualModal.style.display === 'flex') {
                        testResults.modal = true;
                        showResult('modalResults', '‚úÖ –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —É—Å–ø–µ—à–Ω–æ –æ—Ç–∫—Ä—ã—Ç–æ!', 'success');
                        
                        // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
                        setTimeout(() => {
                            manualModal.style.display = 'none';
                        }, 2000);
                    } else {
                        testResults.modal = false;
                        showResult('modalResults', '‚ùå –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –Ω–µ –æ—Ç–∫—Ä—ã–ª–æ—Å—å', 'error');
                    }
                    updateOverallResults();
                }, 100);
                
            } catch (error) {
                testResults.modal = false;
                showResult('modalResults', `‚ùå –û—à–∏–±–∫–∞: ${error.message}`, 'error');
                updateOverallResults();
            }
        }

        function testTextToSlides() {
            showResult('textResults', 'üîÑ –¢–µ—Å—Ç–∏—Ä—É–µ–º —Å–æ–∑–¥–∞–Ω–∏–µ —Å–ª–∞–π–¥–æ–≤ –∏–∑ —Ç–µ–∫—Å—Ç–∞...', 'info');
            
            try {
                if (!window.app) {
                    throw new Error('window.app –Ω–µ –Ω–∞–π–¥–µ–Ω');
                }
                
                if (typeof window.app.generateSlidesFromText !== 'function') {
                    throw new Error('–§—É–Ω–∫—Ü–∏—è generateSlidesFromText –Ω–µ –Ω–∞–π–¥–µ–Ω–∞');
                }
                
                // –¢–µ—Å—Ç–æ–≤—ã–π —Ç–µ–∫—Å—Ç
                const testText = `–ü–µ—Ä–≤—ã–π —Å–ª–∞–π–¥ —Å –≤–∞–∂–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π

–í—Ç–æ—Ä–æ–π —Å–ª–∞–π–¥ —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –¥–µ—Ç–∞–ª—è–º–∏

–¢—Ä–µ—Ç–∏–π —Å–ª–∞–π–¥ —Å –∑–∞–∫–ª—é—á–µ–Ω–∏–µ–º`;
                
                // –ü—Ä–æ–±—É–µ–º —Å–æ–∑–¥–∞—Ç—å —Å–ª–∞–π–¥—ã
                const slides = window.app.generateSlidesFromText(testText);
                
                if (slides && slides.length === 3) {
                    testResults.textCreation = true;
                    showResult('textResults', `‚úÖ –°–æ–∑–¥–∞–Ω–æ ${slides.length} —Å–ª–∞–π–¥–æ–≤ –∏–∑ —Ç–µ–∫—Å—Ç–∞!`, 'success');
                } else {
                    testResults.textCreation = false;
                    showResult('textResults', `‚ùå –ù–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ${slides ? slides.length : 0} —Å–ª–∞–π–¥–æ–≤`, 'error');
                }
                
            } catch (error) {
                testResults.textCreation = false;
                showResult('textResults', `‚ùå –û—à–∏–±–∫–∞: ${error.message}`, 'error');
            }
            
            updateOverallResults();
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ—É–Ω–∫—Ü–∏–π –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('load', () => {
            setTimeout(() => {
                testFunctionAvailability();
            }, 1000);
        });
    </script>
</body>
</html>
</content>