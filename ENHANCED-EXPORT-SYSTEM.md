# ‚úÖ –£–õ–£–ß–®–ï–ù–ù–ê–Ø –°–ò–°–¢–ï–ú–ê –≠–ö–°–ü–û–†–¢–ê

## üéØ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
–°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞ —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ —Ñ–æ—Ä–º–∞—Ç–∞–º–∏, —Ä–∞–∑–º–µ—Ä–∞–º–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –∫–∞—á–µ—Å—Ç–≤–∞.

## üöÄ –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã** üìÅ
- **JPEG** - —Å–∂–∞—Ç—ã–π —Ñ–æ—Ä–º–∞—Ç, –º–µ–Ω—å—à–∏–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞
- **PNG** - –±–µ–∑ —Å–∂–∞—Ç–∏—è, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
- **PDF** - –¥–ª—è –ø–µ—á–∞—Ç–∏ –∏ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–π

### 2. **–†–∞–∑–ª–∏—á–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã** üìê
- **Post 1080√ó1080** - –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –ø–æ—Å—Ç–æ–≤ Instagram
- **Stories 1080√ó1920** - –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è Stories
- **HD 1200√ó1200** - –≤—ã—Å–æ–∫–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –ø–µ—á–∞—Ç–∏

### 3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞** ‚öôÔ∏è
- –°–ª–∞–π–¥–µ—Ä –æ—Ç 70% –¥–æ 100%
- –í–ª–∏—è–µ—Ç –Ω–∞ JPEG –∏ PDF —ç–∫—Å–ø–æ—Ä—Ç
- PNG –≤—Å–µ–≥–¥–∞ –±–µ–∑ —Å–∂–∞—Ç–∏—è

## üé® –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –í—ã–ø–∞–¥–∞—é—â–µ–µ –º–µ–Ω—é —ç–∫—Å–ø–æ—Ä—Ç–∞:
```html
<div class="download-dropdown">
    <button class="editor-btn success" id="downloadSlideBtn">
        –°–∫–∞—á–∞—Ç—å ‚Üì
    </button>
    <div class="download-options">
        <!-- –í—ã–±–æ—Ä —Ñ–æ—Ä–º–∞—Ç–∞ -->
        <!-- –í—ã–±–æ—Ä —Ä–∞–∑–º–µ—Ä–∞ -->
        <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ -->
        <!-- –ö–Ω–æ–ø–∫–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è -->
    </div>
</div>
```

### –°–µ–∫—Ü–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫:
1. **–§–æ—Ä–º–∞—Ç** - —Ä–∞–¥–∏–æ-–∫–Ω–æ–ø–∫–∏ –¥–ª—è –≤—ã–±–æ—Ä–∞ JPEG/PNG/PDF
2. **–†–∞–∑–º–µ—Ä** - —Ä–∞–¥–∏–æ-–∫–Ω–æ–ø–∫–∏ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
3. **–ö–∞—á–µ—Å—Ç–≤–æ** - —Å–ª–∞–π–¥–µ—Ä —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤
4. **–î–µ–π—Å—Ç–≤–∏–µ** - –∫–Ω–æ–ø–∫–∞ "–°–∫–∞—á–∞—Ç—å –≤—Å–µ —Å–ª–∞–π–¥—ã"

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### 1. **–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**

#### `startAdvancedDownload()`
```javascript
async startAdvancedDownload() {
    // –ü–æ–ª—É—á–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –æ–ø—Ü–∏–∏
    const format = formatRadio.value; // 'jpeg', 'png', 'pdf'
    const size = sizeRadio.value;     // '1080x1080', '1080x1920', '1200x1200'
    const quality = qualitySlider.value; // 70-100
    
    // –í—ã–±–∏—Ä–∞–µ–º –º–µ—Ç–æ–¥ —ç–∫—Å–ø–æ—Ä—Ç–∞
    if (format === 'pdf') {
        await this.createAndDownloadPDF(size, quality);
    } else {
        await this.createAndDownloadImages(format, size, quality);
    }
}
```

#### `createAndDownloadImages(format, size, quality)`
```javascript
async createAndDownloadImages(format, size, quality) {
    const [width, height] = size.split('x').map(Number);
    const canvas = document.createElement('canvas');
    
    // –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–ª–∞–π–¥–∞:
    for (let i = 0; i < this.slides.length; i++) {
        // –†–∏—Å—É–µ–º —Å–ª–∞–π–¥ –Ω–∞ canvas
        await this.drawSlideOnCanvas(ctx, slide, styles, width, height);
        
        // –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –≤ blob –∏ —Å–∫–∞—á–∏–≤–∞–µ–º
        const mimeType = format === 'png' ? 'image/png' : 'image/jpeg';
        canvas.toBlob((blob) => {
            // –°–∫–∞—á–∏–≤–∞–µ–º —Ñ–∞–π–ª
        }, mimeType, quality / 100);
    }
}
```

#### `createAndDownloadPDF(size, quality)`
```javascript
async createAndDownloadPDF(size, quality) {
    const { jsPDF } = window.jspdf;
    const pdf = new jsPDF({
        orientation: width > height ? 'landscape' : 'portrait',
        unit: 'px',
        format: [width, height]
    });
    
    // –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–ª–∞–π–¥–∞:
    for (let i = 0; i < this.slides.length; i++) {
        // –†–∏—Å—É–µ–º –Ω–∞ canvas
        await this.drawSlideOnCanvas(ctx, slide, styles, width, height);
        
        // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ PDF
        if (i > 0) pdf.addPage();
        const imgData = canvas.toDataURL('image/jpeg', quality / 100);
        pdf.addImage(imgData, 'JPEG', 0, 0, width, height);
    }
    
    pdf.save(`flashpost-carousel-${timestamp}.pdf`);
}
```

### 2. **–û—Ç—Ä–∏—Å–æ–≤–∫–∞ —Å–ª–∞–π–¥–æ–≤**

#### `drawSlideOnCanvas(ctx, slide, styles, width, height)`
–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –≤–∫–ª—é—á–∞–µ—Ç:

1. **–§–æ–Ω**:
   ```javascript
   // –¶–≤–µ—Ç —Ñ–æ–Ω–∞
   ctx.fillStyle = styles.backgroundColor;
   ctx.fillRect(0, 0, width, height);
   
   // –§–æ–Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ–º
   if (styles.backgroundImage) {
       const scale = styles.backgroundScale / 100;
       const x = (width - scaledWidth) * styles.backgroundPositionX / 100;
       const y = (height - scaledHeight) * styles.backgroundPositionY / 100;
       ctx.drawImage(img, x, y, scaledWidth, scaledHeight);
   }
   ```

2. **–û—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç**:
   ```javascript
   // –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ —à—Ä–∏—Ñ—Ç–∞ –ø–æ–¥ —Ä–∞–∑–º–µ—Ä
   const fontSize = Math.round(styles.fontSize * (width / 400));
   ctx.font = `bold ${fontSize}px ${styles.fontFamily}`;
   
   // –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–µ—Ä–µ–Ω–æ—Å–æ–≤ —Å—Ç—Ä–æ–∫
   const textLines = textContent.split('\n');
   // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–Ω–æ—Å —Å–ª–æ–≤
   // –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º drag&drop
   ```

3. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã**:
   ```javascript
   additionalTexts.forEach(textItem => {
       ctx.fillStyle = textItem.style.color;
       const fontSize = Math.round(textItem.style.fontSize * (width / 400));
       ctx.font = `${textItem.style.fontWeight} ${fontSize}px ${textItem.style.fontFamily}`;
       // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –≤ –ø–æ–∑–∏—Ü–∏–∏ textItem.position
   });
   ```

4. **–ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è**:
   ```javascript
   // –ö–æ–Ω—Ç–∞–∫—Ç—ã –Ω–∞ –ø–µ—Ä–≤–æ–º –∏ –ø–æ—Å–ª–µ–¥–Ω–µ–º —Å–ª–∞–π–¥–µ
   if ((isFirstSlide || isLastSlide) && (contacts)) {
       ctx.fillText(`üì∑ @${instagramContact}`, width / 2, contactY);
       ctx.fillText(`‚úàÔ∏è @${telegramContact}`, width / 2, contactY - 25);
   }
   
   // –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã (–∫—Ä–æ–º–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–ª–∞–π–¥–∞)
   if (slideIndex < this.slides.length - 1) {
       ctx.fillText('–õ–∏—Å—Ç–∞–π', 30, height - 30);
       ctx.fillText('‚Üí', width - 30, height - 30);
   }
   
   // –ù—É–º–µ—Ä–∞—Ü–∏—è —Å–ª–∞–π–¥–æ–≤
   ctx.fillText(`${slideIndex + 1}/${this.slides.length}`, width - 20, 20);
   ```

## üé® CSS —Å—Ç–∏–ª–∏

### –í—ã–ø–∞–¥–∞—é—â–µ–µ –º–µ–Ω—é:
```css
.download-options {
    position: absolute;
    bottom: 100%;
    right: 0;
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
    border-radius: 16px;
    backdrop-filter: blur(20px);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    animation: slideUpFade 0.3s ease-out;
}
```

### –û–ø—Ü–∏–∏ –≤—ã–±–æ—Ä–∞:
```css
.format-option:has(input:checked) {
    background: rgba(74, 222, 128, 0.2);
    border-color: rgba(74, 222, 128, 0.4);
    color: var(--text-primary);
}
```

### –°–ª–∞–π–¥–µ—Ä –∫–∞—á–µ—Å—Ç–≤–∞:
```css
.quality-control input[type="range"]::-webkit-slider-thumb {
    appearance: none;
    width: 16px;
    height: 16px;
    background: #4ade80;
    border-radius: 50%;
    cursor: pointer;
}
```

## üì± –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å

### –ú–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞:
- –í—ã–ø–∞–¥–∞—é—â–µ–µ –º–µ–Ω—é —Ä–∞—Å—Ç—è–≥–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É
- –ö–æ–º–ø–∞–∫—Ç–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –∫–Ω–æ–ø–æ–∫

### –ü–ª–∞–Ω—à–µ—Ç—ã –∏ –¥–µ—Å–∫—Ç–æ–ø:
- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –º–µ–Ω—é (280px)
- –ü–æ–ª–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∏ –∏ –æ–ø–∏—Å–∞–Ω–∏—è
- Hover —ç—Ñ—Ñ–µ–∫—Ç—ã

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:
1. **–°–æ–∑–¥–∞–π—Ç–µ –∫–∞—Ä—É—Å–µ–ª—å** –ª—é–±—ã–º —Å–ø–æ—Å–æ–±–æ–º (–ò–ò, —Ä—É—á–Ω–æ–π –≤–≤–æ–¥, —à–∞–±–ª–æ–Ω)
2. **–û—Ç–∫—Ä–æ–π—Ç–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä** –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
3. **–ù–∞–∂–º–∏—Ç–µ "–°–∫–∞—á–∞—Ç—å"** - –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –º–µ–Ω—é –æ–ø—Ü–∏–π
4. **–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–æ—Ä–º–∞—Ç**: JPEG (—Å–∂–∞—Ç—ã–π), PNG (–∫–∞—á–µ—Å—Ç–≤–æ), PDF (–ø–µ—á–∞—Ç—å)
5. **–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–º–µ—Ä**: Post, Stories –∏–ª–∏ HD
6. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–∞—á–µ—Å—Ç–≤–æ** —Å–ª–∞–π–¥–µ—Ä–æ–º (70-100%)
7. **–ù–∞–∂–º–∏—Ç–µ "–°–∫–∞—á–∞—Ç—å –≤—Å–µ —Å–ª–∞–π–¥—ã"**

### –†–µ–∑—É–ª—å—Ç–∞—Ç:
- **JPEG/PNG**: –û—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã `slide-1.jpeg`, `slide-2.jpeg`, etc.
- **PDF**: –û–¥–∏–Ω —Ñ–∞–π–ª `flashpost-carousel-2024-01-27T15-30-45.pdf`

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
- ‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å** - –≤—ã–±–æ—Ä —Ñ–æ—Ä–º–∞—Ç–∞ –ø–æ–¥ –∑–∞–¥–∞—á—É
- ‚úÖ **–ö–∞—á–µ—Å—Ç–≤–æ** - –æ—Ç —Å–∂–∞—Ç–æ–≥–æ –¥–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ
- ‚úÖ **–£–¥–æ–±—Å—Ç–≤–æ** - –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
- ‚úÖ **–°–∫–æ—Ä–æ—Å—Ç—å** - –±—ã—Å—Ç—Ä—ã–π —ç–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö —Å–ª–∞–π–¥–æ–≤

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:
- ‚úÖ **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å** - –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞
- ‚úÖ **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã
- ‚úÖ **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ fallback
- ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∞

## üîÆ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:
- **WebP** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–∂–∞—Ç—ã–π —Ñ–æ—Ä–º–∞—Ç
- **SVG** - –≤–µ–∫—Ç–æ—Ä–Ω–∞—è –≥—Ä–∞—Ñ–∏–∫–∞
- **MP4** - –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–ª–∞–π–¥—ã

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã:
- **LinkedIn 1200√ó627** - –¥–ª—è –ø–æ—Å—Ç–æ–≤ –≤ LinkedIn
- **Facebook 1200√ó630** - –¥–ª—è Facebook –ø–æ—Å—Ç–æ–≤
- **Twitter 1200√ó675** - –¥–ª—è Twitter –∫–∞—Ä—Ç–æ—á–µ–∫

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏:
- **Watermark** - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–æ–¥—è–Ω–æ–≥–æ –∑–Ω–∞–∫–∞
- **Batch naming** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–º–µ–Ω —Ñ–∞–π–ª–æ–≤
- **Compression levels** - –¥–µ—Ç–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∂–∞—Ç–∏—è

–°–∏—Å—Ç–µ–º–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞ —Ç–µ–ø–µ—Ä—å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è –∏ –≥–æ—Ç–æ–≤–∞ –¥–ª—è –ª—é–±—ã—Ö –∑–∞–¥–∞—á! üéâ