@echo off
chcp 65001 >nul
title FlashPost AI - ะัััััะน ัะตัั

echo.
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo โ                  ๐งช ะัััััะน ัะตัั FlashPost AI                โ
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo.

REM ะัะพะฒะตััะตะผ Node.js
echo ๐ ะัะพะฒะตััะตะผ Node.js...
node --version >nul 2>&1
if %errorlevel% neq 0 (
    echo โ Node.js ะฝะต ัััะฐะฝะพะฒะปะตะฝ
    goto :end
) else (
    echo โ Node.js ัััะฐะฝะพะฒะปะตะฝ: 
    node --version
)

REM ะัะพะฒะตััะตะผ ะพัะฝะพะฒะฝัะต ัะฐะนะปั
echo.
echo ๐ ะัะพะฒะตััะตะผ ัะฐะนะปั...
if exist "server.js" (echo โ server.js) else (echo โ server.js ะพััััััะฒัะตั)
if exist "index.html" (echo โ index.html) else (echo โ index.html ะพััััััะฒัะตั)
if exist "style.css" (echo โ style.css) else (echo โ style.css ะพััััััะฒัะตั)
if exist "script.js" (echo โ script.js) else (echo โ script.js ะพััััััะฒัะตั)

REM ะัะพะฒะตััะตะผ ะฟะพัั
echo.
echo ๐ ะัะพะฒะตััะตะผ ะฟะพัั 8000...
netstat -an | findstr :8000 >nul
if %errorlevel% equ 0 (
    echo โ๏ธ  ะะพัั 8000 ัะถะต ะธัะฟะพะปัะทัะตััั
) else (
    echo โ ะะพัั 8000 ัะฒะพะฑะพะดะตะฝ
)

echo.
echo ๐ ะะฐะฟััะบะฐะตะผ ัะตััะพะฒัะน ัะตัะฒะตั ะฝะฐ 10 ัะตะบัะฝะด...
echo ๐ก ะัะบัะพะนัะต http://localhost:8000 ะฒ ะฑัะฐัะทะตัะต
echo.

REM ะะฐะฟััะบะฐะตะผ ัะตัะฒะตั ะฒ ัะพะฝะต
start /B node server.js

REM ะะดะตะผ 2 ัะตะบัะฝะดั ะดะปั ะทะฐะฟััะบะฐ
timeout /t 2 /nobreak >nul

REM ะััะฐะตะผัั ะพัะบัััั ะฑัะฐัะทะตั
start http://localhost:8000/test-access.html

echo โฐ ะกะตัะฒะตั ะฑัะดะตั ัะฐะฑะพัะฐัั 30 ัะตะบัะฝะด...
timeout /t 30 /nobreak

REM ะััะฐะฝะฐะฒะปะธะฒะฐะตะผ ัะตัะฒะตั
taskkill /f /im node.exe >nul 2>&1

:end
echo.
echo ๐ ะขะตัั ะทะฐะฒะตััะตะฝ
pause