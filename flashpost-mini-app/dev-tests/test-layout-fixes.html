<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FlashPost - –¢–µ—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π layout</title>
    <link rel="stylesheet" href="app.css">
    <style>
        :root {
            --tg-bg: #ffffff;
            --tg-text: #000000;
            --primary: #833ab4;
        }
        
        .debug-panel {
            position: fixed;
            top: 10px;
            right: 10px;
            background: rgba(255, 255, 255, 0.95);
            border: 1px solid #e5e5e5;
            border-radius: 8px;
            padding: 12px;
            font-size: 11px;
            z-index: 1000;
            max-width: 200px;
        }
        
        .debug-item {
            margin: 4px 0;
            padding: 2px 4px;
            background: #f8f9fa;
            border-radius: 3px;
        }
        
        .test-buttons {
            position: fixed;
            bottom: 20px;
            right: 20px;
            display: flex;
            flex-direction: column;
            gap: 8px;
            z-index: 1000;
        }
        
        .test-btn {
            padding: 8px 16px;
            background: #833ab4;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
        }
        
        .test-btn:hover {
            background: #6d2d96;
        }
    </style>
</head>
<body>
    <div class="debug-panel">
        <h4>üîç Layout Debug</h4>
        <div class="debug-item" id="currentState">–°–æ—Å—Ç–æ—è–Ω–∏–µ: –∑–∞–≥—Ä—É–∑–∫–∞...</div>
        <div class="debug-item" id="sectionHeight">–í—ã—Å–æ—Ç–∞: 0px</div>
        <div class="debug-item" id="sectionBg">–§–æ–Ω: –ø—Ä–æ–≤–µ—Ä–∫–∞...</div>
        <div class="debug-item" id="fontSlider">–°–ª–∞–π–¥–µ—Ä: –Ω–µ –Ω–∞–π–¥–µ–Ω</div>
    </div>
    
    <div class="test-buttons">
        <button class="test-btn" onclick="testCarousel()">–ö–∞—Ä—É—Å–µ–ª—å</button>
        <button class="test-btn" onclick="testEditor()">–†–µ–¥–∞–∫—Ç–æ—Ä</button>
        <button class="test-btn" onclick="testFontSize()">–¢–µ—Å—Ç —à—Ä–∏—Ñ—Ç–∞</button>
    </div>

    <div id="app">
        <div style="padding: 40px; text-align: center;">
            <h2>–ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ—Å—Ç–æ–≤...</h2>
        </div>
    </div>

    <script src="app.js"></script>
    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        const app = new FlashPostApp();
        
        // –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
        app.slides = [
            {
                title: "Hook",
                text: "üî• –¢–µ—Å—Ç–æ–≤—ã–π —Å–ª–∞–π–¥ 1\n\n–ü—Ä–æ–≤–µ—Ä—è–µ–º –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–π layout –º–µ–∂–¥—É —Å–µ–∫—Ü–∏—è–º–∏."
            },
            {
                title: "Problem", 
                text: "‚ùå –¢–µ—Å—Ç–æ–≤—ã–π —Å–ª–∞–π–¥ 2\n\n–ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–±–æ—Ç—É –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ —à—Ä–∏—Ñ—Ç–∞."
            },
            {
                title: "Solution",
                text: "‚úÖ –¢–µ—Å—Ç–æ–≤—ã–π —Å–ª–∞–π–¥ 3\n\n–ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–¥–∞–ø—Ç–∞—Ü–∏—é –¥–ª—è –º–∏–Ω–∏-–∞–ø–ø."
            }
        ];
        
        app.initializeSlideStyles();
        
        // –î–æ–±–∞–≤–ª—è–µ–º Instagram –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
        const instagramInput = document.createElement('input');
        instagramInput.id = 'instagramInput';
        instagramInput.value = '@test_layout';
        instagramInput.style.display = 'none';
        document.body.appendChild(instagramInput);
        
        // –§—É–Ω–∫—Ü–∏–∏ –æ—Ç–ª–∞–¥–∫–∏
        function updateDebugInfo() {
            const currentStateEl = document.getElementById('currentState');
            const sectionHeightEl = document.getElementById('sectionHeight');
            const sectionBgEl = document.getElementById('sectionBg');
            const fontSliderEl = document.getElementById('fontSlider');
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
            const appEl = document.getElementById('app');
            let currentState = '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ';
            let activeSection = null;
            
            if (appEl.querySelector('#carouselSection')) {
                currentState = '–ö–∞—Ä—É—Å–µ–ª—å';
                activeSection = appEl.querySelector('#carouselSection');
            } else if (appEl.querySelector('#editorSection')) {
                currentState = '–†–µ–¥–∞–∫—Ç–æ—Ä';
                activeSection = appEl.querySelector('#editorSection');
            }
            
            currentStateEl.textContent = `–°–æ—Å—Ç–æ—è–Ω–∏–µ: ${currentState}`;
            
            if (activeSection) {
                const rect = activeSection.getBoundingClientRect();
                sectionHeightEl.textContent = `–í—ã—Å–æ—Ç–∞: ${Math.round(rect.height)}px`;
                
                const computedStyle = window.getComputedStyle(activeSection);
                sectionBgEl.textContent = `–§–æ–Ω: ${computedStyle.backgroundColor}`;
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–ª–∞–π–¥–µ—Ä —à—Ä–∏—Ñ—Ç–∞
            const fontSizeSlider = document.getElementById('fontSizeSlider');
            if (fontSizeSlider) {
                fontSliderEl.textContent = `–°–ª–∞–π–¥–µ—Ä: –Ω–∞–π–¥–µ–Ω (${fontSizeSlider.value})`;
                fontSliderEl.style.background = '#e8f5e8';
                fontSliderEl.style.color = '#2e7d32';
            } else {
                fontSliderEl.textContent = '–°–ª–∞–π–¥–µ—Ä: –Ω–µ –Ω–∞–π–¥–µ–Ω';
                fontSliderEl.style.background = '#ffebee';
                fontSliderEl.style.color = '#c62828';
            }
        }
        
        function testCarousel() {
            console.log('üß™ –¢–µ—Å—Ç–∏—Ä—É–µ–º –∫–∞—Ä—É—Å–µ–ª—å...');
            app.showCarousel();
            setTimeout(updateDebugInfo, 300);
        }
        
        function testEditor() {
            console.log('üß™ –¢–µ—Å—Ç–∏—Ä—É–µ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä...');
            app.openEditor();
            setTimeout(updateDebugInfo, 300);
        }
        
        function testFontSize() {
            console.log('üß™ –¢–µ—Å—Ç–∏—Ä—É–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —à—Ä–∏—Ñ—Ç–∞...');
            const fontSizeSlider = document.getElementById('fontSizeSlider');
            if (fontSizeSlider) {
                // –°–∏–º—É–ª–∏—Ä—É–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —à—Ä–∏—Ñ—Ç–∞
                fontSizeSlider.value = 20;
                fontSizeSlider.dispatchEvent(new Event('input'));
                console.log('‚úÖ –†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ 20px');
                
                setTimeout(() => {
                    const fontSizeValue = document.getElementById('fontSizeValue');
                    if (fontSizeValue) {
                        console.log('‚úÖ –ó–Ω–∞—á–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–æ:', fontSizeValue.textContent);
                    }
                }, 100);
            } else {
                console.error('‚ùå –°–ª–∞–π–¥–µ—Ä —Ä–∞–∑–º–µ—Ä–∞ —à—Ä–∏—Ñ—Ç–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω');
            }
            setTimeout(updateDebugInfo, 300);
        }
        
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–∞—Ä—É—Å–µ–ª—å
        setTimeout(() => {
            console.log('üöÄ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–∞—Ä—É—Å–µ–ª—å...');
            testCarousel();
        }, 1000);
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–ª–∞–¥–æ—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã
        setInterval(updateDebugInfo, 2000);
        
        console.log(`
üîß –¢–ï–°–¢ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô LAYOUT

–ü—Ä–æ–≤–µ—Ä—è–µ–º:
‚úÖ –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–π layout –º–µ–∂–¥—É —Å–µ–∫—Ü–∏—è–º–∏
‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É –∏–∑–º–µ–Ω–µ–Ω–∏—è —à—Ä–∏—Ñ—Ç–∞
‚úÖ –ê–¥–∞–ø—Ç–∞—Ü–∏—é –¥–ª—è –º–∏–Ω–∏-–∞–ø–ø
‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ñ–æ–Ω–∞

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ —Å–ø—Ä–∞–≤–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è!
        `);
        
        console.log('‚úÖ –¢–µ—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –≥–æ—Ç–æ–≤');
    </script>
</body>
</html>