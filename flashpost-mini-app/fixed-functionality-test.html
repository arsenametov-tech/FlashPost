<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üîß Fixed Functionality Test</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { background: #1a1a2e; color: #fff; font-family: Arial, sans-serif; padding: 20px; }
        .container { max-width: 1000px; margin: 0 auto; }
        .test-card { background: rgba(255,255,255,0.1); border-radius: 12px; padding: 20px; margin: 20px 0; }
        .btn { background: linear-gradient(45deg, #833ab4, #fd1d1d); color: white; border: none; padding: 12px 24px; border-radius: 8px; cursor: pointer; margin: 10px; transition: all 0.3s ease; }
        .btn:hover { transform: translateY(-2px); }
        .status { padding: 15px; border-radius: 8px; margin: 10px 0; font-weight: bold; }
        .success { background: #1a5f1a; border: 2px solid #28a745; }
        .error { background: #5f1a1a; border: 2px solid #dc3545; }
        .warning { background: #5f4a1a; border: 2px solid #ffc107; }
        .info { background: #1a3a5f; border: 2px solid #007bff; }
        .log { background: #2a2a2a; border-radius: 8px; padding: 15px; font-family: monospace; font-size: 12px; max-height: 400px; overflow-y: auto; margin: 10px 0; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; }
        .test-item { background: rgba(0,0,0,0.3); padding: 20px; border-radius: 8px; }
        .test-result { margin-top: 15px; font-weight: bold; font-size: 14px; }
        .test-details { margin-top: 10px; font-size: 12px; color: rgba(255,255,255,0.8); }
        .progress-bar { width: 100%; height: 8px; background: rgba(255,255,255,0.2); border-radius: 4px; margin: 10px 0; overflow: hidden; }
        .progress-fill { height: 100%; background: linear-gradient(45deg, #833ab4, #fd1d1d); transition: width 0.3s ease; }
        .file-check { display: flex; justify-content: space-between; align-items: center; padding: 8px; margin: 5px 0; background: rgba(255,255,255,0.05); border-radius: 6px; }
        .file-status { font-weight: bold; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîß Fixed Functionality Test</h1>
        <p>–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –±–µ–∑ CORS –æ—à–∏–±–æ–∫</p>
        
        <div id="overallStatus" class="status info">üîÑ –ì–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é...</div>
        
        <div class="test-card">
            <h2>üöÄ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞–º–∏</h2>
            <button class="btn" onclick="runAllTests()">‚ö° –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã</button>
            <button class="btn" onclick="testFileStructure()">üìÅ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ñ–∞–π–ª–æ–≤</button>
            <button class="btn" onclick="testJavaScriptSyntax()">üîß –ü—Ä–æ–≤–µ—Ä–∏—Ç—å JavaScript</button>
            <button class="btn" onclick="openApps()">üåê –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</button>
            <button class="btn" onclick="clearLog()">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥</button>
        </div>

        <div class="grid">
            <div class="test-item">
                <h3>üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤</h3>
                <div class="progress-bar">
                    <div id="filesProgress" class="progress-fill" style="width: 0%"></div>
                </div>
                <div id="filesResult" class="test-result">–ù–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ</div>
                <div id="filesDetails" class="test-details"></div>
            </div>
            
            <div class="test-item">
                <h3>üîß JavaScript —Å–∏–Ω—Ç–∞–∫—Å–∏—Å</h3>
                <div class="progress-bar">
                    <div id="jsProgress" class="progress-fill" style="width: 0%"></div>
                </div>
                <div id="jsResult" class="test-result">–ù–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ</div>
                <div id="jsDetails" class="test-details"></div>
            </div>
            
            <div class="test-item">
                <h3>üé® CSS –∏ —Å—Ç–∏–ª–∏</h3>
                <div class="progress-bar">
                    <div id="cssProgress" class="progress-fill" style="width: 0%"></div>
                </div>
                <div id="cssResult" class="test-result">–ù–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ</div>
                <div id="cssDetails" class="test-details"></div>
            </div>
            
            <div class="test-item">
                <h3>üñ±Ô∏è UI —ç–ª–µ–º–µ–Ω—Ç—ã</h3>
                <div class="progress-bar">
                    <div id="uiProgress" class="progress-fill" style="width: 0%"></div>
                </div>
                <div id="uiResult" class="test-result">–ù–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ</div>
                <div id="uiDetails" class="test-details"></div>
            </div>
        </div>

        <div class="test-card">
            <h2>üìã –î–µ—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤</h2>
            <div id="fileChecks"></div>
        </div>

        <div class="test-card">
            <h2>üìã –õ–æ–≥ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</h2>
            <div id="testLog" class="log">–û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤...<br></div>
        </div>
        
        <div class="test-card">
            <h2>üåê –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º</h2>
            <button class="btn" onclick="window.open('index.html', '_blank')">üì± –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</button>
            <button class="btn" onclick="window.open('working-app.html', '_blank')">üéØ –†–∞–±–æ—á–∞—è –≤–µ—Ä—Å–∏—è</button>
            <button class="btn" onclick="window.open('test-clickability-fixed.html', '_blank')">üñ±Ô∏è –¢–µ—Å—Ç –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏</button>
        </div>
    </div>

    <script>
        let testLog = document.getElementById('testLog');
        let testResults = {};
        let totalTests = 0;
        let passedTests = 0;

        function log(message, type = 'info') {
            const timestamp = new Date().toLocaleTimeString();
            const icon = type === 'error' ? '‚ùå' : type === 'success' ? '‚úÖ' : type === 'warning' ? '‚ö†Ô∏è' : '‚ÑπÔ∏è';
            const color = type === 'error' ? '#ff6b6b' : type === 'success' ? '#51cf66' : type === 'warning' ? '#ffd43b' : '#74c0fc';
            
            testLog.innerHTML += `<span style="color: ${color}">[${timestamp}] ${icon} ${message}</span><br>`;
            testLog.scrollTop = testLog.scrollHeight;
        }

        function updateResult(elementId, message, success, details = '') {
            const element = document.getElementById(elementId);
            if (element) {
                element.innerHTML = success ? `‚úÖ ${message}` : `‚ùå ${message}`;
                element.style.color = success ? '#51cf66' : '#ff6b6b';
            }
            
            const detailsElement = document.getElementById(elementId.replace('Result', 'Details'));
            if (detailsElement && details) {
                detailsElement.innerHTML = details;
            }
        }

        function updateProgress(elementId, percentage) {
            const element = document.getElementById(elementId);
            if (element) {
                element.style.width = percentage + '%';
            }
        }

        async function testFileStructure() {
            log('üìÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ñ–∞–π–ª–æ–≤...', 'info');
            updateProgress('filesProgress', 10);
            
            const requiredFiles = [
                { path: 'index.html', name: '–û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ', critical: true },
                { path: 'working-app.html', name: '–†–∞–±–æ—á–∞—è –≤–µ—Ä—Å–∏—è', critical: true },
                { path: 'src/app.js', name: '–ì–ª–∞–≤–Ω—ã–π –º–æ–¥—É–ª—å', critical: true },
                { path: 'src/state.js', name: '–ú–æ–¥—É–ª—å —Å–æ—Å—Ç–æ—è–Ω–∏—è', critical: false },
                { path: 'src/renderer.js', name: '–ú–æ–¥—É–ª—å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞', critical: false },
                { path: 'src/editor.js', name: '–ú–æ–¥—É–ª—å —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞', critical: false },
                { path: 'templates.js', name: '–®–∞–±–ª–æ–Ω—ã', critical: false }
            ];
            
            let checkedFiles = 0;
            let existingFiles = 0;
            let criticalFiles = 0;
            let criticalFound = 0;
            
            const fileChecksContainer = document.getElementById('fileChecks');
            fileChecksContainer.innerHTML = '';
            
            for (const file of requiredFiles) {
                try {
                    const response = await fetch(file.path, { method: 'HEAD' });
                    const exists = response.ok;
                    
                    if (exists) existingFiles++;
                    if (file.critical) {
                        criticalFiles++;
                        if (exists) criticalFound++;
                    }
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –≤–∏–∑—É–∞–ª—å–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É —Ñ–∞–π–ª–∞
                    const fileCheck = document.createElement('div');
                    fileCheck.className = 'file-check';
                    fileCheck.innerHTML = `
                        <span>${file.name} (${file.path})</span>
                        <span class="file-status" style="color: ${exists ? '#51cf66' : '#ff6b6b'}">
                            ${exists ? '‚úÖ –ù–∞–π–¥–µ–Ω' : '‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç'}
                        </span>
                    `;
                    fileChecksContainer.appendChild(fileCheck);
                    
                    log(`${exists ? '‚úÖ' : '‚ùå'} ${file.name}: ${exists ? '–Ω–∞–π–¥–µ–Ω' : '–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç'}`, exists ? 'success' : 'error');
                    
                } catch (error) {
                    log(`‚ùå –û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ ${file.name}: ${error.message}`, 'error');
                }
                
                checkedFiles++;
                updateProgress('filesProgress', (checkedFiles / requiredFiles.length) * 100);
                
                // –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞
                await new Promise(resolve => setTimeout(resolve, 200));
            }
            
            const success = criticalFound === criticalFiles;
            const details = `${existingFiles}/${requiredFiles.length} —Ñ–∞–π–ª–æ–≤ –Ω–∞–π–¥–µ–Ω–æ<br>–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö: ${criticalFound}/${criticalFiles}`;
            
            updateResult('filesResult', `${existingFiles}/${requiredFiles.length} —Ñ–∞–π–ª–æ–≤`, success, details);
            testResults.files = success;
            
            log(`üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤: ${existingFiles}/${requiredFiles.length} –Ω–∞–π–¥–µ–Ω–æ`, success ? 'success' : 'warning');
            return success;
        }

        async function testJavaScriptSyntax() {
            log('üîß –ü—Ä–æ–≤–µ—Ä–∫–∞ JavaScript —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞...', 'info');
            updateProgress('jsProgress', 10);
            
            const jsTests = [
                { name: 'Array methods', test: () => [1,2,3].map(x => x * 2).length === 3 },
                { name: 'Object methods', test: () => Object.keys({a:1, b:2}).length === 2 },
                { name: 'DOM API', test: () => typeof document.createElement === 'function' },
                { name: 'Event handling', test: () => typeof addEventListener === 'function' },
                { name: 'Local storage', test: () => typeof localStorage !== 'undefined' },
                { name: 'Fetch API', test: () => typeof fetch === 'function' },
                { name: 'Promise support', test: () => typeof Promise !== 'undefined' },
                { name: 'Arrow functions', test: () => { const f = () => true; return f(); } }
            ];
            
            let passed = 0;
            let total = jsTests.length;
            
            for (let i = 0; i < jsTests.length; i++) {
                const test = jsTests[i];
                try {
                    if (test.test()) {
                        passed++;
                        log(`‚úÖ ${test.name}: —Ä–∞–±–æ—Ç–∞–µ—Ç`, 'success');
                    } else {
                        log(`‚ùå ${test.name}: –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç`, 'error');
                    }
                } catch (e) {
                    log(`‚ùå ${test.name}: –æ—à–∏–±–∫–∞ - ${e.message}`, 'error');
                }
                
                updateProgress('jsProgress', ((i + 1) / total) * 100);
                await new Promise(resolve => setTimeout(resolve, 100));
            }
            
            const success = passed === total;
            const details = `–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ JavaScript<br>–í—Å–µ API –¥–æ—Å—Ç—É–ø–Ω—ã`;
            
            updateResult('jsResult', `${passed}/${total} —Ñ—É–Ω–∫—Ü–∏–π`, success, details);
            testResults.javascript = success;
            
            log(`üìä JavaScript: ${passed}/${total} —Ñ—É–Ω–∫—Ü–∏–π —Ä–∞–±–æ—Ç–∞—é—Ç`, success ? 'success' : 'error');
            return success;
        }

        async function testCSS() {
            log('üé® –ü—Ä–æ–≤–µ—Ä–∫–∞ CSS –∏ —Å—Ç–∏–ª–µ–π...', 'info');
            updateProgress('cssProgress', 10);
            
            const cssTests = [
                { 
                    name: 'CSS Grid support', 
                    test: () => CSS.supports('display', 'grid') 
                },
                { 
                    name: 'Flexbox support', 
                    test: () => CSS.supports('display', 'flex') 
                },
                { 
                    name: 'CSS Variables', 
                    test: () => CSS.supports('color', 'var(--test)') 
                },
                { 
                    name: 'Backdrop filter', 
                    test: () => CSS.supports('backdrop-filter', 'blur(10px)') 
                },
                { 
                    name: 'CSS Gradients', 
                    test: () => CSS.supports('background', 'linear-gradient(45deg, red, blue)') 
                }
            ];
            
            let passed = 0;
            let total = cssTests.length;
            
            for (let i = 0; i < cssTests.length; i++) {
                const test = cssTests[i];
                try {
                    if (test.test()) {
                        passed++;
                        log(`‚úÖ ${test.name}: –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è`, 'success');
                    } else {
                        log(`‚ö†Ô∏è ${test.name}: –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è`, 'warning');
                    }
                } catch (e) {
                    log(`‚ùå ${test.name}: –æ—à–∏–±–∫–∞ - ${e.message}`, 'error');
                }
                
                updateProgress('cssProgress', ((i + 1) / total) * 100);
                await new Promise(resolve => setTimeout(resolve, 100));
            }
            
            const success = passed >= total * 0.8; // 80% –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ
            const details = `–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ CSS —Ñ—É–Ω–∫—Ü–∏–∏<br>–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –±—Ä–∞—É–∑–µ—Ä–æ–º`;
            
            updateResult('cssResult', `${passed}/${total} —Ñ—É–Ω–∫—Ü–∏–π`, success, details);
            testResults.css = success;
            
            log(`üìä CSS: ${passed}/${total} —Ñ—É–Ω–∫—Ü–∏–π –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è`, success ? 'success' : 'warning');
            return success;
        }

        async function testUI() {
            log('üñ±Ô∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ UI —ç–ª–µ–º–µ–Ω—Ç–æ–≤...', 'info');
            updateProgress('uiProgress', 10);
            
            const uiTests = [
                {
                    name: '–ö–Ω–æ–ø–∫–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ',
                    test: () => document.querySelectorAll('button').length > 0
                },
                {
                    name: '–ö–ª–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç—å –∫–Ω–æ–ø–æ–∫',
                    test: () => {
                        const buttons = document.querySelectorAll('button');
                        return Array.from(buttons).every(btn => {
                            const style = window.getComputedStyle(btn);
                            return style.pointerEvents !== 'none' && !btn.disabled;
                        });
                    }
                },
                {
                    name: 'Hover —ç—Ñ—Ñ–µ–∫—Ç—ã',
                    test: () => {
                        const testBtn = document.querySelector('.btn');
                        if (!testBtn) return false;
                        const style = window.getComputedStyle(testBtn);
                        return style.transition.includes('transform') || style.transition.includes('all');
                    }
                },
                {
                    name: 'Responsive –¥–∏–∑–∞–π–Ω',
                    test: () => {
                        const viewport = document.querySelector('meta[name="viewport"]');
                        return viewport && viewport.content.includes('width=device-width');
                    }
                }
            ];
            
            let passed = 0;
            let total = uiTests.length;
            
            for (let i = 0; i < uiTests.length; i++) {
                const test = uiTests[i];
                try {
                    if (test.test()) {
                        passed++;
                        log(`‚úÖ ${test.name}: —Ä–∞–±–æ—Ç–∞–µ—Ç`, 'success');
                    } else {
                        log(`‚ùå ${test.name}: –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç`, 'error');
                    }
                } catch (e) {
                    log(`‚ùå ${test.name}: –æ—à–∏–±–∫–∞ - ${e.message}`, 'error');
                }
                
                updateProgress('uiProgress', ((i + 1) / total) * 100);
                await new Promise(resolve => setTimeout(resolve, 100));
            }
            
            const success = passed === total;
            const details = `UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å<br>–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω`;
            
            updateResult('uiResult', `${passed}/${total} –ø—Ä–æ–≤–µ—Ä–æ–∫`, success, details);
            testResults.ui = success;
            
            log(`üìä UI: ${passed}/${total} –ø—Ä–æ–≤–µ—Ä–æ–∫ –ø—Ä–æ–π–¥–µ–Ω–æ`, success ? 'success' : 'error');
            return success;
        }

        async function runAllTests() {
            log('‚ö° –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤...', 'info');
            document.getElementById('overallStatus').className = 'status warning';
            document.getElementById('overallStatus').textContent = 'üîÑ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ...';
            
            testResults = {};
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–µ—Å—Ç—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ
            await testFileStructure();
            await testJavaScriptSyntax();
            await testCSS();
            await testUI();
            
            // –ü–æ–¥–≤–æ–¥–∏–º –∏—Ç–æ–≥–∏
            const results = Object.values(testResults);
            const passed = results.filter(r => r).length;
            const total = results.length;
            const success = passed === total;
            
            const status = document.getElementById('overallStatus');
            status.className = `status ${success ? 'success' : (passed >= total * 0.75 ? 'warning' : 'error')}`;
            
            if (success) {
                status.textContent = '‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ!';
                log('üöÄ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!', 'success');
            } else if (passed >= total * 0.75) {
                status.textContent = `‚ö†Ô∏è –ü—Ä–æ–π–¥–µ–Ω–æ ${passed}/${total} —Ç–µ—Å—Ç–æ–≤ (—Ö–æ—Ä–æ—à–æ)`;
                log('‚ö†Ô∏è –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –≥–æ—Ç–æ–≤–æ, –µ—Å—Ç—å –Ω–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã', 'warning');
            } else {
                status.textContent = `‚ùå –ü—Ä–æ–π–¥–µ–Ω–æ ${passed}/${total} —Ç–µ—Å—Ç–æ–≤ (—Ç—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è)`;
                log('‚ùå –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –Ω–∞–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º', 'error');
            }
            
            log(`üéØ –ò–¢–û–ì–û–í–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢: ${passed}/${total} —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ`, success ? 'success' : 'warning');
        }

        function openApps() {
            log('üåê –û—Ç–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –≤ –Ω–æ–≤—ã—Ö –≤–∫–ª–∞–¥–∫–∞—Ö...', 'info');
            
            const apps = [
                { url: 'index.html', name: '–û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ' },
                { url: 'working-app.html', name: '–†–∞–±–æ—á–∞—è –≤–µ—Ä—Å–∏—è' }
            ];
            
            apps.forEach(app => {
                try {
                    window.open(app.url, '_blank');
                    log(`‚úÖ ${app.name}: –æ—Ç–∫—Ä—ã—Ç–æ`, 'success');
                } catch (error) {
                    log(`‚ùå ${app.name}: –æ—à–∏–±–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è`, 'error');
                }
            });
        }

        function clearLog() {
            testLog.innerHTML = '–õ–æ–≥ –æ—á–∏—â–µ–Ω...<br>';
            log('üóëÔ∏è –õ–æ–≥ –æ—á–∏—â–µ–Ω', 'info');
        }

        // –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('load', () => {
            log('üîß Fixed Functionality Test –∑–∞–≥—Ä—É–∂–µ–Ω', 'info');
            log('‚ÑπÔ∏è –≠—Ç–æ—Ç —Ç–µ—Å—Ç –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç CORS –æ—à–∏–±–∫–∏ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ iframe', 'info');
        });
    </script>
</body>
</html>