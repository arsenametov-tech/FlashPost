# üèÜ –ê–†–•–ò–¢–ï–ö–¢–£–†–ù–ê–Ø –¶–ï–õ–û–°–¢–ù–û–°–¢–¨ –î–û–°–¢–ò–ì–ù–£–¢–ê

## ‚úÖ –ó–ê–î–ê–ß–ê –í–´–ü–û–õ–ù–ï–ù–ê: Single Source of Truth

–£—Å–ø–µ—à–Ω–æ –≤–Ω–µ–¥—Ä–µ–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –µ–¥–∏–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∏—Å—Ç–∏–Ω—ã –≤–æ –≤—Å–µ—Ö –º–æ–¥—É–ª—è—Ö FlashPost –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

## üéØ –ö–õ–Æ–ß–ï–í–´–ï –î–û–°–¢–ò–ñ–ï–ù–ò–Ø

### 1. ‚úÖ –ï–î–ò–ù–´–ô –ò–°–¢–û–ß–ù–ò–ö –ò–°–¢–ò–ù–´
- **StateManager** - –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –≤–ª–∞–¥–µ–ª–µ—Ü –¥–∞–Ω–Ω—ã—Ö `project.slides` –∏ `textBlocks`
- **–í—Å–µ –º–æ–¥—É–ª–∏** –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ç–æ–ª—å–∫–æ –º–µ—Ç–æ–¥—ã StateManager –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º
- **–ù–∏–∫—Ç–æ –Ω–µ –º—É—Ç–∏—Ä—É–µ—Ç** –¥–∞–Ω–Ω—ã–µ –Ω–∞–ø—Ä—è–º—É—é, –∫—Ä–æ–º–µ StateManager

### 2. ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–´ –í–°–ï –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ù–ê–†–£–®–ï–ù–ò–Ø

#### üö® Templates.js - –ü—Ä—è–º—ã–µ –º—É—Ç–∞—Ü–∏–∏ textBlocks
```javascript
// ‚ùå –ë–´–õ–û: slide.textBlocks.push(newBlock)
// ‚úÖ –°–¢–ê–õ–û: this.state.addTextBlockToSlide(slideId, blockData)
```

#### üö® Drag.js - –ü—Ä—è–º—ã–µ DOM –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏
```javascript
// ‚ùå –ë–´–õ–û: blockEl.style.left = x + '%'
// ‚úÖ –°–¢–ê–õ–û: this.state.updateTextBlockProperty(blockId, 'x', x)
```

#### üö® Renderer.js - –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ project.slides
```javascript
// ‚ùå –ë–´–õ–û: this.state.project.slides.forEach()
// ‚úÖ –°–¢–ê–õ–û: this.state.getAllSlides().forEach()
```

#### üö® Export.js - –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ project.slides
```javascript
// ‚ùå –ë–´–õ–û: const slides = this.state.project.slides
// ‚úÖ –°–¢–ê–õ–û: const slides = this.state.getAllSlides()
```

#### ‚ö†Ô∏è Editor.js & App.js - –ü—Ä–æ–≤–µ—Ä–∫–∏ –¥–ª–∏–Ω—ã –º–∞—Å—Å–∏–≤–∞
```javascript
// ‚ùå –ë–´–õ–û: this.state.project.slides.length
// ‚úÖ –°–¢–ê–õ–û: this.state.getSlidesCount()
```

## üîß –ë–ï–ó–û–ü–ê–°–ù–´–ï –ú–ï–¢–û–î–´ –î–û–°–¢–£–ü–ê

### –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (–≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –∫–æ–ø–∏–∏):
- `state.getAllSlides()` - –≤—Å–µ —Å–ª–∞–π–¥—ã
- `state.getSlidesCount()` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–∞–π–¥–æ–≤  
- `state.getSlideById(id)` - —Å–ª–∞–π–¥ –ø–æ ID
- `state.getSlideByIndex(index)` - —Å–ª–∞–π–¥ –ø–æ –∏–Ω–¥–µ–∫—Å—É
- `state.getActiveSlide()` - –∞–∫—Ç–∏–≤–Ω—ã–π —Å–ª–∞–π–¥
- `state.getActiveSlideIndex()` - –∏–Ω–¥–µ–∫—Å –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Å–ª–∞–π–¥–∞

### –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –º—É—Ç–∞—Ü–∏–∏ (—Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ StateManager):
- `state.addTextBlockToSlide(slideId, blockData)` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –±–ª–æ–∫–∞
- `state.updateTextBlockInSlide(slideId, blockId, updates)` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–ª–æ–∫–∞
- `state.deleteTextBlockFromSlide(slideId, blockId)` - —É–¥–∞–ª–µ–Ω–∏–µ –±–ª–æ–∫–∞
- `state.updateSlideProperty(slideId, property, value)` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ª–∞–π–¥–∞
- `state.updateTextBlockProperty(blockId, property, value)` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ –±–ª–æ–∫–∞

## üß™ –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–ù–ù–´–ï –§–£–ù–ö–¶–ò–ò

### ‚ûï –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –±–ª–æ–∫–∞
- ‚úÖ –°–æ–∑–¥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ StateManager
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ DOM
- ‚úÖ –°–æ—Å—Ç–æ—è–Ω–∏–µ –æ—Å—Ç–∞–µ—Ç—Å—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–º

### ‚úçÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
- ‚úÖ –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ StateManager
- ‚úÖ DOM —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ –ñ–∏–≤–æ–µ –ø—Ä–µ–≤—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç

### üñ± Drag & Drop —Ç–µ–∫—Å—Ç–∞
- ‚úÖ –ü–æ–∑–∏—Ü–∏—è –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏
- ‚úÖ DOM –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –∫–æ–ª–±—ç–∫–∏
- ‚úÖ –ù–∏–∫–∞–∫–∏—Ö –ø—Ä—è–º—ã—Ö DOM –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–π

### üìê –ò–∑–º–µ–Ω–µ–Ω–∏–µ —à–∏—Ä–∏–Ω—ã
- ‚úÖ –†–∞–∑–º–µ—Ä –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏
- ‚úÖ DOM —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ Resize —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–ª–∞–≤–Ω–æ

## üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ù–´–ï –ì–ê–†–ê–ù–¢–ò–ò

### ‚úÖ –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö
–í—Å–µ —Å–ª–∞–π–¥—ã –∏ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –±–ª–æ–∫–∏ –≤—Å–µ–≥–¥–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏ DOM.

### ‚úÖ –ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–π
–í—Å–µ –º—É—Ç–∞—Ü–∏–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ StateManager –∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è.

### ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö –º—É—Ç–∞—Ü–∏–π
–í–Ω–µ—à–Ω–∏–µ –º–æ–¥—É–ª–∏ –ø–æ–ª—É—á–∞—é—Ç –∫–æ–ø–∏–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –Ω–µ –º–æ–≥—É—Ç –ø–æ–≤—Ä–µ–¥–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ.

### ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI
DOM –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É –∫–æ–ª–±—ç–∫–æ–≤.

## üöÄ –†–ï–ó–£–õ–¨–¢–ê–¢

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø–∞–º:

1. **Single Source of Truth** - StateManager –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –≤–ª–∞–¥–µ–ª–µ—Ü –¥–∞–Ω–Ω—ã—Ö
2. **Unidirectional Data Flow** - –¥–∞–Ω–Ω—ã–µ —Ç–µ–∫—É—Ç —Ç–æ–ª—å–∫–æ –æ—Ç StateManager –∫ UI
3. **Immutable Updates** - –≤–Ω–µ—à–Ω–∏–µ –º–æ–¥—É–ª–∏ –Ω–µ –º–æ–≥—É—Ç –º—É—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ
4. **Reactive UI** - DOM –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç—Ä–∞–∂–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è

## üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô

- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –Ω–∞—Ä—É—à–µ–Ω–∏–π**: 7
- **–î–æ–±–∞–≤–ª–µ–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤**: 12
- **–£–¥–∞–ª–µ–Ω–æ –ø—Ä—è–º—ã—Ö –º—É—Ç–∞—Ü–∏–π**: 5
- **–£–±—Ä–∞–Ω–æ DOM –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–π**: 3
- **–ú–æ–¥—É–ª–µ–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–µ–Ω–æ**: 6

## üéâ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Single Source of Truth —É—Å–ø–µ—à–Ω–æ –≤–Ω–µ–¥—Ä–µ–Ω–∞!**

–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ:
- ‚ûï –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –±–ª–æ–∫–æ–≤ ‚úÖ
- ‚úçÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ ‚úÖ  
- üñ± Drag & Drop ‚úÖ
- üìê –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤ ‚úÖ

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ –¥–∞–ª—å–Ω–µ–π—à–µ–º—É —Ä–∞–∑–≤–∏—Ç–∏—é —Å –≥–∞—Ä–∞–Ω—Ç–∏–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–π —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏! üöÄ