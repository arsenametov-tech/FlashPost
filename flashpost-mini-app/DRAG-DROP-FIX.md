# üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï DRAG & DROP –°–ò–°–¢–ï–ú–´

## ‚ùå –ü—Ä–æ–±–ª–µ–º—ã
1. **–î–µ—Ä–≥–∞–Ω–∏–µ –ø—Ä–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–∏** - –∫–æ–Ω—Ñ–ª–∏–∫—Ç –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ mousemove
2. **–ö—Ä–∏–≤–æ–π –ø–µ—Ä–µ—Å—á–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç** - –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ px ‚Üí %
3. **–ù–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≥—Ä–∞–Ω–∏—Ü** - –±–ª–æ–∫–∏ –≤—ã—Ö–æ–¥—è—Ç –∑–∞ –ø—Ä–µ–¥–µ–ª—ã —Å–ª–∞–π–¥–∞
4. **–ü–∏–∫—Å–µ–ª–∏ –≤ state** - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Ü–µ–Ω—Ç—ã

## ‚úÖ –†–µ—à–µ–Ω–∏—è

### 1. –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö (—Ç–æ–ª—å–∫–æ –ø—Ä–æ—Ü–µ–Ω—Ç—ã)
```javascript
textBlocks: [
    {
        id: 'block_1',
        text: '–¢–µ–∫—Å—Ç –±–ª–æ–∫–∞',
        x: 10,      // –ü—Ä–æ—Ü–µ–Ω—Ç—ã (0-100)
        y: 20,      // –ü—Ä–æ—Ü–µ–Ω—Ç—ã (0-100)
        width: 30,  // –ü—Ä–æ—Ü–µ–Ω—Ç—ã (0-100)
        font: 'Inter',
        size: 18    // –¢–æ–ª—å–∫–æ —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ –≤ px
    }
]
```

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –ø–µ—Ä–µ—Å—á–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
```javascript
handleMouseMove(e) {
    const slideRect = this.dragState.slideRect;
    const deltaX = e.clientX - this.dragState.startX;
    const deltaY = e.clientY - this.dragState.startY;
    
    // –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–µ—Ä–µ—Å—á–µ—Ç –≤ –ø—Ä–æ—Ü–µ–Ω—Ç—ã
    const deltaXPercent = (deltaX / slideRect.width) * 100;
    const deltaYPercent = (deltaY / slideRect.height) * 100;
    
    let newX = this.dragState.startBlockX + deltaXPercent;
    let newY = this.dragState.startBlockY + deltaYPercent;
    
    // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≥—Ä–∞–Ω–∏—Ü —Å clamp
    newX = Math.max(0, Math.min(100 - block.width, newX));
    newY = Math.max(0, Math.min(100 - 15, newY));
    
    block.x = newX;
    block.y = newY;
}
```

### 3. –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ drag
```javascript
dragState = {
    isDragging: false,
    isResizing: false,
    activeBlockId: null,
    startX: 0,           // –ù–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –º—ã—à–∏ (px)
    startY: 0,           // –ù–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –º—ã—à–∏ (px)
    startBlockX: 0,      // –ù–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –±–ª–æ–∫–∞ (%)
    startBlockY: 0,      // –ù–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –±–ª–æ–∫–∞ (%)
    startBlockWidth: 0,  // –ù–∞—á–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –±–ª–æ–∫–∞ (%)
    slideRect: null      // –†–∞–∑–º–µ—Ä—ã —Å–ª–∞–π–¥–∞ –¥–ª—è –ø–µ—Ä–µ—Å—á–µ—Ç–∞
}
```

### 4. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≥—Ä–∞–Ω–∏—Ü —Å clamp
```javascript
// –î–ª—è –ø–æ–∑–∏—Ü–∏–∏
x = Math.max(0, Math.min(100 - block.width, x));
y = Math.max(0, Math.min(100 - estimatedHeight, y));

// –î–ª—è —à–∏—Ä–∏–Ω—ã
const minWidth = 15; // –ú–∏–Ω–∏–º—É–º 15%
const maxWidth = 100 - block.x; // –ù–µ –≤—ã—Ö–æ–¥–∏–º –∑–∞ –ø—Ä–∞–≤—É—é –≥—Ä–∞–Ω–∏—Ü—É
width = Math.max(minWidth, Math.min(maxWidth, width));
```

### 5. –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π
```javascript
// –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è (–±–µ–∑ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤)
document.addEventListener('mousemove', (e) => this.handleMouseMove(e));
document.addEventListener('mouseup', (e) => this.handleMouseUp(e));

// –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –≤—ã–¥–µ–ª–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞
document.addEventListener('selectstart', (e) => {
    if (this.dragState.isDragging || this.dragState.isResizing) {
        e.preventDefault();
    }
});
```

### 6. –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ (width)
```javascript
handleMouseMove(e) {
    if (this.dragState.isResizing) {
        const deltaX = e.clientX - this.dragState.startX;
        const deltaWidthPercent = (deltaX / slideRect.width) * 100;
        
        let newWidth = this.dragState.startBlockWidth + deltaWidthPercent;
        
        // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞
        const minWidth = 15;
        const maxWidth = 100 - block.x;
        
        newWidth = Math.max(minWidth, Math.min(maxWidth, newWidth));
        block.width = newWidth;
    }
}
```

## üéØ –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

### 1. –ù–∏–∫–∞–∫–∏—Ö px –≤ state - —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Ü–µ–Ω—Ç—ã
```javascript
// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û
block.x = 150; // –ø–∏–∫—Å–µ–ª–∏
block.width = 200; // –ø–∏–∫—Å–µ–ª–∏

// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û  
block.x = 25; // –ø—Ä–æ—Ü–µ–Ω—Ç—ã
block.width = 30; // –ø—Ä–æ—Ü–µ–Ω—Ç—ã
```

### 2. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–µ—Ä–µ—Å—á–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
```javascript
// –§–æ—Ä–º—É–ª–∞ –ø–µ—Ä–µ—Å—á–µ—Ç–∞ px ‚Üí %
xPercent = (mouseX - slideLeft) / slideWidth * 100;
widthPercent = (blockWidth / slideWidth) * 100;
```

### 3. –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≥—Ä–∞–Ω–∏—Ü
```javascript
// Clamp —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
x = Math.max(0, Math.min(100, x));
```

### 4. –ï–¥–∏–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ drag
```javascript
// –û–¥–Ω–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
this.dragState = {
    isDragging: boolean,
    isResizing: boolean,
    activeBlockId: string,
    // ... –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
}
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç 1: –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ
1. –ü–µ—Ä–µ—Ç–∞—â–∏—Ç—å –±–ª–æ–∫ –≤ —Ä–∞–∑–Ω—ã–µ —É–≥–ª—ã
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –±–ª–æ–∫ –Ω–µ –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã
3. –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –Ω–µ—Ç –¥–µ—Ä–≥–∞–Ω–∏—è

### –¢–µ—Å—Ç 2: –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞
1. –ò–∑–º–µ–Ω–∏—Ç—å —Ä–∞–∑–º–µ—Ä –±–ª–æ–∫–∞
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä (15%)
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –±–ª–æ–∫ –Ω–µ –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –ø—Ä–∞–≤—É—é –≥—Ä–∞–Ω–∏—Ü—É

### –¢–µ—Å—Ç 3: –ì—Ä–∞–Ω–∏—Ü—ã
1. –†–∞–∑–º–µ—Å—Ç–∏—Ç—å –±–ª–æ–∫–∏ –ø–æ –∫—Ä–∞—è–º
2. –ü–æ–ø—ã—Ç–∞—Ç—å—Å—è –≤—ã—Ç–∞—â–∏—Ç—å –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –±–ª–æ–∫–∏ –æ—Å—Ç–∞—é—Ç—Å—è –≤–Ω—É—Ç—Ä–∏

### –¢–µ—Å—Ç 4: –°–æ—Å—Ç–æ—è–Ω–∏–µ
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤ state —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Ü–µ–Ω—Ç—ã
2. –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –Ω–µ—Ç px –∑–Ω–∞—á–µ–Ω–∏–π
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –ø–µ—Ä–µ—Å—á–µ—Ç–∞

## üìã –ß–µ–∫-–ª–∏—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

- [ ] –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Ü–µ–Ω—Ç—ã
- [ ] –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–µ—Ä–µ—Å—á–µ—Ç px ‚Üí %
- [ ] –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≥—Ä–∞–Ω–∏—Ü —Å clamp
- [ ] –ï–¥–∏–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ dragState
- [ ] –ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –≤ mousemove
- [ ] –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –≤—ã–¥–µ–ª–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞
- [ ] –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –±–ª–æ–∫–æ–≤
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

## üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ app.js

–î–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏:
1. –ó–∞–º–µ–Ω–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –Ω–∞ –ø—Ä–æ—Ü–µ–Ω—Ç—ã
2. –û–±–Ω–æ–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
3. –î–æ–±–∞–≤–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≥—Ä–∞–Ω–∏—Ü
4. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø–µ—Ä–µ—Å—á–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
5. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö