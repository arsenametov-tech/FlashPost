<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Test Fixed Index</title>
    <style>
        html, body { margin: 0; padding: 0; height: 100%; background: #0f0f14; color: #fff; font-family: Arial; }
        #app { min-height: 100vh; background: #0f0f14; color: #fff; display: block; position: relative; }
        .test { padding: 20px; text-align: center; }
        .btn { background: #007bff; color: white; border: none; padding: 15px 30px; border-radius: 5px; cursor: pointer; margin: 10px; font-size: 16px; }
        .status { padding: 15px; margin: 10px 0; border-radius: 8px; font-weight: bold; }
        .success { background: #1a5f1a; border: 2px solid #28a745; }
        .error { background: #5f1a1a; border: 2px solid #dc3545; }
    </style>
</head>
<body>
    <div id="app">
        <div class="test">
            <h1>üîß Test Fixed Index</h1>
            <p>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–≥–æ index.html</p>
            
            <div id="domTest" class="status">üîÑ –ü—Ä–æ–≤–µ—Ä–∫–∞ DOM...</div>
            <div id="jsTest" class="status">üîÑ –ü—Ä–æ–≤–µ—Ä–∫–∞ JS...</div>
            
            <button class="btn" onclick="testDOM()">–¢–µ—Å—Ç DOM</button>
            <button class="btn" onclick="testJS()">–¢–µ—Å—Ç JS –º–æ–¥—É–ª–µ–π</button>
            <button class="btn" onclick="openFixedApp()">–û—Ç–∫—Ä—ã—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</button>
            
            <div id="result" style="margin-top: 20px; padding: 20px; background: #2a2a2a; border-radius: 5px; text-align: left; font-family: monospace; font-size: 12px;"></div>
        </div>
    </div>

    <script>
        function log(message) {
            const result = document.getElementById('result');
            result.innerHTML += `<div>${new Date().toLocaleTimeString()}: ${message}</div>`;
        }

        function testDOM() {
            log('üîÑ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ DOM —Å—Ç—Ä—É–∫—Ç—É—Ä—ã...');
            
            const appElement = document.getElementById('app');
            if (appElement) {
                document.getElementById('domTest').className = 'status success';
                document.getElementById('domTest').textContent = '‚úÖ #app —ç–ª–µ–º–µ–Ω—Ç –Ω–∞–π–¥–µ–Ω';
                log('‚úÖ #app —ç–ª–µ–º–µ–Ω—Ç —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –¥–æ—Å—Ç—É–ø–µ–Ω');
                log('‚úÖ DOM —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞');
            } else {
                document.getElementById('domTest').className = 'status error';
                document.getElementById('domTest').textContent = '‚ùå #app —ç–ª–µ–º–µ–Ω—Ç –ù–ï –Ω–∞–π–¥–µ–Ω';
                log('‚ùå #app —ç–ª–µ–º–µ–Ω—Ç –≤—Å–µ –µ—â–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç');
            }
        }

        function testJS() {
            log('üîÑ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ JS –º–æ–¥—É–ª–µ–π...');
            
            const modules = [
                '/src/state.js',
                '/src/renderer.js', 
                '/src/editor.js',
                '/src/app.js'
            ];
            
            let loadedCount = 0;
            modules.forEach(module => {
                fetch(module)
                    .then(response => {
                        if (response.ok) {
                            log(`‚úÖ ${module}: –¥–æ—Å—Ç—É–ø–µ–Ω`);
                            loadedCount++;
                            if (loadedCount === modules.length) {
                                document.getElementById('jsTest').className = 'status success';
                                document.getElementById('jsTest').textContent = '‚úÖ –í—Å–µ JS –º–æ–¥—É–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã';
                                log('‚úÖ –í—Å–µ –º–æ–¥—É–ª–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —É—Å–ø–µ—à–Ω–æ');
                            }
                        } else {
                            log(`‚ùå ${module}: –æ—à–∏–±–∫–∞ ${response.status}`);
                            document.getElementById('jsTest').className = 'status error';
                            document.getElementById('jsTest').textContent = '‚ùå –û—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥—É–ª–µ–π';
                        }
                    })
                    .catch(error => {
                        log(`‚ùå ${module}: ${error.message}`);
                        document.getElementById('jsTest').className = 'status error';
                        document.getElementById('jsTest').textContent = '‚ùå –°–µ—Ç–µ–≤—ã–µ –æ—à–∏–±–∫–∏ –º–æ–¥—É–ª–µ–π';
                    });
            });
        }

        function openFixedApp() {
            log('üöÄ –û—Ç–∫—Ä—ã—Ç–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è...');
            window.open('/index.html', '_blank');
        }

        // –ê–≤—Ç–æ—Ç–µ—Å—Ç –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('load', () => {
            log('üöÄ Test Fixed Index –∑–∞–≥—Ä—É–∂–µ–Ω');
            setTimeout(testDOM, 500);
            setTimeout(testJS, 1000);
        });
    </script>
</body>
</html>