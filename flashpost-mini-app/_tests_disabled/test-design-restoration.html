<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Design Restoration</title>
    <style>
        html, body { margin: 0; padding: 0; height: 100%; background: #0f0f14; color: #fff; font-family: Arial; }
        .container { padding: 20px; max-width: 800px; margin: 0 auto; }
        .btn { background: #007bff; color: white; border: none; padding: 15px 30px; border-radius: 5px; cursor: pointer; margin: 10px; }
        .log { background: #2a2a2a; border: 1px solid #444; border-radius: 5px; padding: 10px; font-family: monospace; font-size: 12px; max-height: 300px; overflow-y: auto; margin: 10px 0; }
        .success { color: #4CAF50; }
        .error { color: #f44336; }
        .info { color: #2196F3; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üé® Test Design Restoration</h1>
        <p>–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∏–∑–∞–π–Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</p>
        
        <button class="btn" onclick="testDesignElements()">üé® –¢–µ—Å—Ç —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–∏–∑–∞–π–Ω–∞</button>
        <button class="btn" onclick="testAppInitialization()">üöÄ –¢–µ—Å—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏</button>
        <button class="btn" onclick="openMainApp()">üì± –û—Ç–∫—Ä—ã—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</button>
        <button class="btn" onclick="openRestoreDesign()">üé® –û—Ç–∫—Ä—ã—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω</button>
        
        <div id="log" class="log"></div>
    </div>

    <script>
        function log(message, type = 'info') {
            const logElement = document.getElementById('log');
            const className = type === 'error' ? 'error' : (type === 'success' ? 'success' : 'info');
            logElement.innerHTML += `<div class="${className}">[${new Date().toLocaleTimeString()}] ${message}</div>`;
            logElement.scrollTop = logElement.scrollHeight;
            console.log(message);
        }

        function testDesignElements() {
            log('üé® –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–∏–∑–∞–π–Ω–∞...', 'info');
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–≥—Ä—É–∑–∫—É CSS
            const cssFiles = ['/app.css'];
            
            cssFiles.forEach(cssFile => {
                fetch(cssFile)
                    .then(response => {
                        if (response.ok) {
                            log(`‚úÖ CSS —Ñ–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω: ${cssFile}`, 'success');
                        } else {
                            log(`‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ CSS: ${cssFile} (${response.status})`, 'error');
                        }
                    })
                    .catch(error => {
                        log(`‚ùå –°–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞ CSS: ${cssFile} - ${error.message}`, 'error');
                    });
            });
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º Google Fonts
            const fontTest = document.createElement('div');
            fontTest.style.fontFamily = 'Montserrat, sans-serif';
            fontTest.style.position = 'absolute';
            fontTest.style.visibility = 'hidden';
            fontTest.textContent = 'Test';
            document.body.appendChild(fontTest);
            
            setTimeout(() => {
                const computedFont = window.getComputedStyle(fontTest).fontFamily;
                if (computedFont.includes('Montserrat')) {
                    log('‚úÖ Google Fonts (Montserrat) –∑–∞–≥—Ä—É–∂–µ–Ω—ã', 'success');
                } else {
                    log('‚ö†Ô∏è Google Fonts –º–æ–≥—É—Ç –Ω–µ –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è', 'error');
                }
                document.body.removeChild(fontTest);
            }, 1000);
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ü–≤–µ—Ç–∞ –∏ —Å—Ç–∏–ª–∏
            const bodyStyles = window.getComputedStyle(document.body);
            const backgroundColor = bodyStyles.backgroundColor;
            const color = bodyStyles.color;
            
            log(`üé® Body background: ${backgroundColor}`, 'info');
            log(`üé® Body color: ${color}`, 'info');
            
            if (backgroundColor.includes('15, 15, 20') || backgroundColor.includes('#0f0f14')) {
                log('‚úÖ –¢–µ–º–Ω—ã–π —Ñ–æ–Ω —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ', 'success');
            } else {
                log('‚ùå –ü—Ä–æ–±–ª–µ–º–∞ —Å —Ç–µ–º–Ω—ã–º —Ñ–æ–Ω–æ–º', 'error');
            }
        }

        function testAppInitialization() {
            log('üöÄ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è...', 'info');
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ DOM
            const appElement = document.getElementById('app');
            const loadingElement = document.getElementById('loading');
            
            if (appElement) {
                log('‚úÖ #app —ç–ª–µ–º–µ–Ω—Ç –Ω–∞–π–¥–µ–Ω', 'success');
            } else {
                log('‚ùå #app —ç–ª–µ–º–µ–Ω—Ç –ù–ï –Ω–∞–π–¥–µ–Ω', 'error');
            }
            
            if (loadingElement) {
                log('‚úÖ #loading —ç–ª–µ–º–µ–Ω—Ç –Ω–∞–π–¥–µ–Ω', 'success');
            } else {
                log('‚ö†Ô∏è #loading —ç–ª–µ–º–µ–Ω—Ç –ù–ï –Ω–∞–π–¥–µ–Ω (–º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–æ—Ä–º–∞–ª—å–Ω–æ)', 'info');
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –º–æ–¥—É–ª–µ–π
            const modules = [
                '/src/state.js',
                '/src/renderer.js',
                '/src/app.js'
            ];
            
            let loadedModules = 0;
            modules.forEach(module => {
                fetch(module)
                    .then(response => {
                        if (response.ok) {
                            log(`‚úÖ –ú–æ–¥—É–ª—å –¥–æ—Å—Ç—É–ø–µ–Ω: ${module}`, 'success');
                            loadedModules++;
                            if (loadedModules === modules.length) {
                                log('‚úÖ –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã', 'success');
                            }
                        } else {
                            log(`‚ùå –û—à–∏–±–∫–∞ –º–æ–¥—É–ª—è: ${module} (${response.status})`, 'error');
                        }
                    })
                    .catch(error => {
                        log(`‚ùå –°–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞ –º–æ–¥—É–ª—è: ${module} - ${error.message}`, 'error');
                    });
            });
        }

        function openMainApp() {
            log('üì± –û—Ç–∫—Ä—ã—Ç–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è...', 'info');
            window.open('/index.html', '_blank');
        }

        function openRestoreDesign() {
            log('üé® –û—Ç–∫—Ä—ã—Ç–∏–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –¥–∏–∑–∞–π–Ω–∞...', 'info');
            window.open('/restore-design.html', '_blank');
        }

        // –ê–≤—Ç–æ—Ç–µ—Å—Ç –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('load', () => {
            log('üß™ Test Design Restoration –∑–∞–≥—Ä—É–∂–µ–Ω', 'info');
            setTimeout(() => {
                log('üöÄ –ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤...', 'info');
                testDesignElements();
                setTimeout(testAppInitialization, 2000);
            }, 1000);
        });
    </script>
</body>
</html>