<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üñ±Ô∏è Test UI Clickability</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html, body { height: 100%; background: linear-gradient(135deg, #0f0f14 0%, #1a1a2e 50%, #16213e 100%); color: #fff; font-family: Arial, sans-serif; }
        .container { padding: 20px; max-width: 1200px; margin: 0 auto; }
        .test-card { background: rgba(255,255,255,0.1); border-radius: 12px; padding: 20px; margin: 20px 0; border: 1px solid rgba(255,255,255,0.2); backdrop-filter: blur(20px); }
        .btn { background: linear-gradient(45deg, #833ab4, #fd1d1d); color: white; border: none; padding: 15px 30px; border-radius: 8px; cursor: pointer; margin: 10px; font-size: 16px; font-weight: 600; transition: transform 0.2s; }
        .btn:hover { transform: translateY(-2px); }
        .status { padding: 15px; margin: 10px 0; border-radius: 8px; font-weight: bold; }
        .success { background: #1a5f1a; border: 2px solid #28a745; }
        .error { background: #5f1a1a; border: 2px solid #dc3545; }
        .warning { background: #5f4a1a; border: 2px solid #ffc107; }
        .info { background: #1a3a5f; border: 2px solid #007bff; }
        .log { background: #2a2a2a; border: 1px solid #444; border-radius: 8px; padding: 15px; font-family: monospace; font-size: 12px; max-height: 400px; overflow-y: auto; margin: 10px 0; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; }
        .test-item { background: rgba(0,0,0,0.3); padding: 15px; border-radius: 8px; border: 1px solid rgba(255,255,255,0.1); }
        .test-result { font-weight: bold; margin-top: 10px; }
        
        /* Debug —Å—Ç–∏–ª–∏ –¥–ª—è hover */
        .debug-mode button:hover,
        .debug-mode .btn:hover,
        .debug-mode [onclick]:hover,
        .debug-mode [role="button"]:hover {
            outline: 3px solid #ff0080 !important;
            outline-offset: 2px !important;
        }
        
        .debug-mode .clickable:hover {
            outline: 2px solid #00ff80 !important;
            outline-offset: 1px !important;
        }
        
        .overlay-test {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0,0,0,0.8);
            padding: 30px;
            border-radius: 12px;
            z-index: 10000;
            display: none;
        }
        
        .z-index-test {
            position: relative;
            z-index: 1;
        }
        
        .z-index-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255,0,0,0.2);
            z-index: 2;
            pointer-events: none;
        }
        
        .pointer-events-test {
            pointer-events: auto;
            position: relative;
            z-index: 3;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üñ±Ô∏è Test UI Clickability</h1>
        <p>–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏ –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</p>
        
        <div id="overallStatus" class="status info">üîÑ –ì–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é...</div>
        
        <div class="test-card">
            <h2>üöÄ –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h2>
            <button class="btn" onclick="runFullClickabilityTest()">üîç –ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏</button>
            <button class="btn" onclick="toggleDebugMode()">üêõ –†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ (hover outline)</button>
            <button class="btn" onclick="testZIndexIssues()">üìê –¢–µ—Å—Ç z-index –ø—Ä–æ–±–ª–µ–º</button>
            <button class="btn" onclick="openMainApp()">üì± –û—Ç–∫—Ä—ã—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</button>
        </div>

        <div class="grid">
            <div class="test-item">
                <h3>üñ±Ô∏è –ö–ª–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç—å –∫–Ω–æ–ø–æ–∫</h3>
                <div id="buttonStatus">–ù–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ</div>
                <div id="buttonResults" class="test-result"></div>
            </div>
            
            <div class="test-item">
                <h3>üìê Z-index –ø—Ä–æ–±–ª–µ–º—ã</h3>
                <div id="zindexStatus">–ù–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ</div>
                <div id="zindexResults" class="test-result"></div>
            </div>
            
            <div class="test-item">
                <h3>üëÜ Pointer events</h3>
                <div id="pointerStatus">–ù–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ</div>
                <div id="pointerResults" class="test-result"></div>
            </div>
            
            <div class="test-item">
                <h3>üì± Mini-app –≥—Ä–∞–Ω–∏—Ü—ã</h3>
                <div id="boundariesStatus">–ù–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ</div>
                <div id="boundariesResults" class="test-result"></div>
            </div>
        </div>

        <div class="test-card">
            <h2>üß™ –¢–µ—Å—Ç–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã</h2>
            
            <!-- –¢–µ—Å—Ç z-index -->
            <div class="z-index-test" style="height: 100px; background: rgba(255,255,255,0.1); margin: 10px 0; position: relative;">
                <div class="z-index-overlay"></div>
                <button class="btn pointer-events-test" onclick="alert('Z-index —Ç–µ—Å—Ç –ø—Ä–æ–π–¥–µ–Ω!')">
                    –ö–Ω–æ–ø–∫–∞ –ø–æ–¥ overlay
                </button>
            </div>
            
            <!-- –¢–µ—Å—Ç –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—é—â–∏—Ö div -->
            <div style="position: relative; height: 80px; background: rgba(255,255,255,0.1); margin: 10px 0;">
                <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,255,0,0.1); pointer-events: none;"></div>
                <button class="btn" onclick="alert('–ü–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç –ø—Ä–æ–π–¥–µ–Ω!')" style="position: absolute; top: 20px; left: 20px; z-index: 10;">
                    –ö–Ω–æ–ø–∫–∞ —Å –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ–º
                </button>
            </div>
        </div>

        <div class="test-card">
            <h2>üìã –õ–æ–≥ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</h2>
            <div id="testLog" class="log">–õ–æ–≥ –±—É–¥–µ—Ç –∑–¥–µ—Å—å...</div>
        </div>
        
        <!-- –¢–µ—Å—Ç–æ–≤—ã–π overlay -->
        <div class="overlay-test" id="overlayTest">
            <h3>–¢–µ—Å—Ç Overlay</h3>
            <p>–≠—Ç–æ—Ç overlay –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–≤–µ—Ä—Ö –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤</p>
            <button class="btn" onclick="closeOverlay()">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>

    <script>
        let logElement;
        let debugMode = false;
        
        function log(message, type = 'info') {
            if (!logElement) logElement = document.getElementById('testLog');
            const timestamp = new Date().toLocaleTimeString();
            const icon = type === 'error' ? '‚ùå' : type === 'success' ? '‚úÖ' : type === 'warning' ? '‚ö†Ô∏è' : '‚ÑπÔ∏è';
            logElement.innerHTML += `<div style="color: ${type === 'error' ? '#ff6b6b' : type === 'success' ? '#51cf66' : type === 'warning' ? '#ffd43b' : '#74c0fc'}">[${timestamp}] ${icon} ${message}</div>`;
            logElement.scrollTop = logElement.scrollHeight;
            console.log(message);
        }

        function updateStatus(elementId, message, type) {
            const element = document.getElementById(elementId);
            if (element) {
                element.textContent = message;
                element.className = `status ${type}`;
            }
        }

        function updateTestResult(elementId, message, success) {
            const element = document.getElementById(elementId);
            if (element) {
                element.innerHTML = success ? `‚úÖ ${message}` : `‚ùå ${message}`;
                element.style.color = success ? '#51cf66' : '#ff6b6b';
            }
        }

        function toggleDebugMode() {
            debugMode = !debugMode;
            document.body.classList.toggle('debug-mode', debugMode);
            
            if (debugMode) {
                log('üêõ –†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ –≤–∫–ª—é—á–µ–Ω - –Ω–∞–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è outline', 'info');
                
                // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å clickable –∫–æ –≤—Å–µ–º –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–º —ç–ª–µ–º–µ–Ω—Ç–∞–º
                const clickableElements = document.querySelectorAll('button, [onclick], [role="button"], a, input, select, textarea');
                clickableElements.forEach(el => el.classList.add('clickable'));
                
            } else {
                log('üêõ –†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ –≤—ã–∫–ª—é—á–µ–Ω', 'info');
                
                // –£–±–∏—Ä–∞–µ–º –∫–ª–∞—Å—Å clickable
                const clickableElements = document.querySelectorAll('.clickable');
                clickableElements.forEach(el => el.classList.remove('clickable'));
            }
        }

        async function testButtonClickability() {
            log('üñ±Ô∏è –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏ –∫–Ω–æ–ø–æ–∫...', 'info');
            updateStatus('buttonStatus', 'üîÑ –¢–µ—Å—Ç–∏—Ä—É–µ–º...', 'info');
            
            try {
                // –û—Ç–∫—Ä—ã–≤–∞–µ–º –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ iframe –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
                const iframe = document.createElement('iframe');
                iframe.src = '/index.html';
                iframe.style.display = 'none';
                document.body.appendChild(iframe);
                
                await new Promise(resolve => {
                    iframe.onload = resolve;
                    setTimeout(resolve, 5000); // –¢–∞–π–º–∞—É—Ç 5 —Å–µ–∫
                });
                
                const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                
                // –ò—â–µ–º –≤—Å–µ –∫–Ω–æ–ø–∫–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
                const buttons = iframeDoc.querySelectorAll('button, [onclick], [role="button"]');
                log(`üîç –ù–∞–π–¥–µ–Ω–æ ${buttons.length} –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤`, 'info');
                
                let clickableCount = 0;
                let issues = [];
                
                buttons.forEach((btn, index) => {
                    const rect = btn.getBoundingClientRect();
                    const computedStyle = iframe.contentWindow.getComputedStyle(btn);
                    
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–∏–¥–∏–º–æ—Å—Ç—å
                    const isVisible = rect.width > 0 && rect.height > 0 && 
                                    computedStyle.visibility !== 'hidden' && 
                                    computedStyle.display !== 'none';
                    
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º pointer-events
                    const hasPointerEvents = computedStyle.pointerEvents !== 'none';
                    
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º z-index
                    const zIndex = computedStyle.zIndex;
                    
                    if (isVisible && hasPointerEvents) {
                        clickableCount++;
                        log(`‚úÖ –ö–Ω–æ–ø–∫–∞ ${index + 1}: –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–∞ (z-index: ${zIndex})`, 'success');
                    } else {
                        const issue = `–ö–Ω–æ–ø–∫–∞ ${index + 1}: ${!isVisible ? '–Ω–µ–≤–∏–¥–∏–º–∞' : ''} ${!hasPointerEvents ? 'pointer-events: none' : ''}`;
                        issues.push(issue);
                        log(`‚ùå ${issue}`, 'error');
                    }
                });
                
                document.body.removeChild(iframe);
                
                const success = issues.length === 0;
                updateStatus('buttonStatus', success ? '‚úÖ –í—Å–µ –∫–Ω–æ–ø–∫–∏ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã' : '‚ùå –ï—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã', success ? 'success' : 'error');
                updateTestResult('buttonResults', `${clickableCount}/${buttons.length} –∫–Ω–æ–ø–æ–∫ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã`, success);
                
                if (issues.length > 0) {
                    log(`‚ö†Ô∏è –ù–∞–π–¥–µ–Ω–æ ${issues.length} –ø—Ä–æ–±–ª–µ–º —Å –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç—å—é`, 'warning');
                }
                
                return { success, clickableCount, total: buttons.length, issues };
                
            } catch (error) {
                log(`‚ùå –û—à–∏–±–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–Ω–æ–ø–æ–∫: ${error.message}`, 'error');
                updateStatus('buttonStatus', '‚ùå –û—à–∏–±–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è', 'error');
                return { success: false, error: error.message };
            }
        }

        async function testZIndexIssues() {
            log('üìê –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ z-index –ø—Ä–æ–±–ª–µ–º...', 'info');
            updateStatus('zindexStatus', 'üîÑ –¢–µ—Å—Ç–∏—Ä—É–µ–º...', 'info');
            
            try {
                // –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å —Ä–∞–∑–Ω—ã–º–∏ z-index
                const testContainer = document.createElement('div');
                testContainer.style.cssText = `
                    position: fixed;
                    top: 50px;
                    left: 50px;
                    width: 200px;
                    height: 200px;
                    background: rgba(255,0,0,0.3);
                    z-index: 1000;
                `;
                
                const overlay = document.createElement('div');
                overlay.style.cssText = `
                    position: absolute;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    background: rgba(0,255,0,0.3);
                    z-index: 1001;
                    pointer-events: none;
                `;
                
                const button = document.createElement('button');
                button.textContent = 'Test Button';
                button.style.cssText = `
                    position: absolute;
                    top: 50px;
                    left: 50px;
                    z-index: 1002;
                    padding: 10px;
                    background: #007bff;
                    color: white;
                    border: none;
                    border-radius: 4px;
                    cursor: pointer;
                `;
                
                let clicked = false;
                button.onclick = () => { clicked = true; };
                
                testContainer.appendChild(overlay);
                testContainer.appendChild(button);
                document.body.appendChild(testContainer);
                
                // –°–∏–º—É–ª–∏—Ä—É–µ–º –∫–ª–∏–∫
                button.click();
                
                setTimeout(() => {
                    document.body.removeChild(testContainer);
                    
                    const success = clicked;
                    updateStatus('zindexStatus', success ? '‚úÖ Z-index —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ' : '‚ùå –ü—Ä–æ–±–ª–µ–º—ã —Å z-index', success ? 'success' : 'error');
                    updateTestResult('zindexResults', success ? 'Z-index —Ç–µ—Å—Ç –ø—Ä–æ–π–¥–µ–Ω' : 'Z-index –±–ª–æ–∫–∏—Ä—É–µ—Ç –∫–ª–∏–∫–∏', success);
                    
                    log(success ? '‚úÖ Z-index —Ç–µ—Å—Ç –ø—Ä–æ–π–¥–µ–Ω' : '‚ùå Z-index –±–ª–æ–∫–∏—Ä—É–µ—Ç –∫–ª–∏–∫–∏', success ? 'success' : 'error');
                }, 100);
                
            } catch (error) {
                log(`‚ùå –û—à–∏–±–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è z-index: ${error.message}`, 'error');
                updateStatus('zindexStatus', '‚ùå –û—à–∏–±–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è', 'error');
            }
        }

        async function testPointerEvents() {
            log('üëÜ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ pointer events...', 'info');
            updateStatus('pointerStatus', 'üîÑ –¢–µ—Å—Ç–∏—Ä—É–µ–º...', 'info');
            
            try {
                const iframe = document.createElement('iframe');
                iframe.src = '/index.html';
                iframe.style.display = 'none';
                document.body.appendChild(iframe);
                
                await new Promise(resolve => {
                    iframe.onload = resolve;
                    setTimeout(resolve, 5000);
                });
                
                const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                const elements = iframeDoc.querySelectorAll('*');
                
                let pointerNoneCount = 0;
                let totalElements = elements.length;
                
                elements.forEach(el => {
                    const style = iframe.contentWindow.getComputedStyle(el);
                    if (style.pointerEvents === 'none') {
                        pointerNoneCount++;
                    }
                });
                
                document.body.removeChild(iframe);
                
                log(`üìä –≠–ª–µ–º–µ–Ω—Ç–æ–≤ —Å pointer-events: none: ${pointerNoneCount}/${totalElements}`, 'info');
                
                const success = pointerNoneCount < totalElements * 0.5; // –ù–µ –±–æ–ª–µ–µ 50% —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å pointer-events: none
                updateStatus('pointerStatus', success ? '‚úÖ Pointer events –≤ –Ω–æ—Ä–º–µ' : '‚ö†Ô∏è –ú–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å pointer-events: none', success ? 'success' : 'warning');
                updateTestResult('pointerResults', `${pointerNoneCount}/${totalElements} —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å pointer-events: none`, success);
                
                return { success, pointerNoneCount, totalElements };
                
            } catch (error) {
                log(`‚ùå –û—à–∏–±–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è pointer events: ${error.message}`, 'error');
                updateStatus('pointerStatus', '‚ùå –û—à–∏–±–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è', 'error');
                return { success: false, error: error.message };
            }
        }

        async function testMiniAppBoundaries() {
            log('üì± –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥—Ä–∞–Ω–∏—Ü mini-app...', 'info');
            updateStatus('boundariesStatus', 'üîÑ –¢–µ—Å—Ç–∏—Ä—É–µ–º...', 'info');
            
            try {
                const iframe = document.createElement('iframe');
                iframe.src = '/index.html';
                iframe.style.cssText = 'width: 400px; height: 600px; border: 1px solid #ccc;';
                document.body.appendChild(iframe);
                
                await new Promise(resolve => {
                    iframe.onload = resolve;
                    setTimeout(resolve, 5000);
                });
                
                const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ–º–µ—â–∞—é—Ç—Å—è –≤ –≥—Ä–∞–Ω–∏—Ü—ã
                const body = iframeDoc.body;
                const bodyRect = body.getBoundingClientRect();
                
                let overflowElements = [];
                const allElements = iframeDoc.querySelectorAll('*');
                
                allElements.forEach((el, index) => {
                    const rect = el.getBoundingClientRect();
                    if (rect.right > bodyRect.right + 10 || rect.bottom > bodyRect.bottom + 10) {
                        overflowElements.push(`–≠–ª–µ–º–µ–Ω—Ç ${index}: ${el.tagName} (${el.className})`);
                    }
                });
                
                document.body.removeChild(iframe);
                
                const success = overflowElements.length === 0;
                updateStatus('boundariesStatus', success ? '‚úÖ –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤ –≥—Ä–∞–Ω–∏—Ü–∞—Ö' : '‚ùå –ï—Å—Ç—å –≤—ã—Ö–æ–¥—è—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã', success ? 'success' : 'error');
                updateTestResult('boundariesResults', success ? '–ì—Ä–∞–Ω–∏—Ü—ã —Å–æ–±–ª—é–¥–µ–Ω—ã' : `${overflowElements.length} —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤—ã—Ö–æ–¥—è—Ç –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã`, success);
                
                if (overflowElements.length > 0) {
                    log(`‚ö†Ô∏è –≠–ª–µ–º–µ–Ω—Ç—ã –≤—ã—Ö–æ–¥—è—â–∏–µ –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã:`, 'warning');
                    overflowElements.forEach(el => log(`  - ${el}`, 'warning'));
                }
                
                return { success, overflowElements };
                
            } catch (error) {
                log(`‚ùå –û—à–∏–±–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≥—Ä–∞–Ω–∏—Ü: ${error.message}`, 'error');
                updateStatus('boundariesStatus', '‚ùå –û—à–∏–±–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è', 'error');
                return { success: false, error: error.message };
            }
        }

        async function runFullClickabilityTest() {
            log('üîç –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏...', 'info');
            updateStatus('overallStatus', 'üîÑ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ...', 'info');
            
            const results = {
                buttons: await testButtonClickability(),
                zindex: await new Promise(resolve => {
                    testZIndexIssues();
                    setTimeout(() => resolve({ success: true }), 500);
                }),
                pointer: await testPointerEvents(),
                boundaries: await testMiniAppBoundaries()
            };
            
            const allPassed = Object.values(results).every(r => r.success);
            
            log(`üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏:`, 'info');
            log(`  - –ö–Ω–æ–ø–∫–∏: ${results.buttons.success ? '‚úÖ' : '‚ùå'}`, results.buttons.success ? 'success' : 'error');
            log(`  - Z-index: ${results.zindex.success ? '‚úÖ' : '‚ùå'}`, results.zindex.success ? 'success' : 'error');
            log(`  - Pointer events: ${results.pointer.success ? '‚úÖ' : '‚ùå'}`, results.pointer.success ? 'success' : 'error');
            log(`  - Boundaries: ${results.boundaries.success ? '‚úÖ' : '‚ùå'}`, results.boundaries.success ? 'success' : 'error');
            
            updateStatus('overallStatus', 
                allPassed ? '‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã' : '‚ùå –ï—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç—å—é',
                allPassed ? 'success' : 'error'
            );
            
            return results;
        }

        function openMainApp() {
            log('üì± –û—Ç–∫—Ä—ã—Ç–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è...', 'info');
            window.open('/index.html', '_blank');
        }

        function showOverlay() {
            document.getElementById('overlayTest').style.display = 'block';
        }

        function closeOverlay() {
            document.getElementById('overlayTest').style.display = 'none';
        }

        // –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
        window.addEventListener('load', () => {
            log('üñ±Ô∏è UI Clickability Test –∑–∞–≥—Ä—É–∂–µ–Ω', 'info');
            setTimeout(() => {
                runFullClickabilityTest();
            }, 1000);
        });
    </script>
</body>
</html>