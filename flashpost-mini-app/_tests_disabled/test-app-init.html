<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Test App Initialization</title>
    <style>
        html, body { margin: 0; padding: 0; height: 100%; background: #0f0f14; color: #fff; font-family: Arial; }
        .container { padding: 20px; max-width: 800px; margin: 0 auto; }
        .status { padding: 15px; margin: 10px 0; border-radius: 8px; font-weight: bold; }
        .success { background: #1a5f1a; border: 2px solid #28a745; }
        .error { background: #5f1a1a; border: 2px solid #dc3545; }
        .info { background: #1a3a5f; border: 2px solid #007bff; }
        .btn { background: #007bff; color: white; border: none; padding: 15px 30px; border-radius: 5px; cursor: pointer; margin: 10px; font-size: 16px; }
        .log { background: #2a2a2a; border: 1px solid #444; border-radius: 5px; padding: 10px; font-family: monospace; font-size: 12px; max-height: 300px; overflow-y: auto; margin: 10px 0; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üß™ Test App Initialization</h1>
        
        <div id="initStatus" class="status info">üîÑ –ì–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é...</div>
        
        <button class="btn" onclick="testAppInit()">–¢–µ—Å—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</button>
        <button class="btn" onclick="openMainApp()">–û—Ç–∫—Ä—ã—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</button>
        <button class="btn" onclick="openRestoredDesign()">–û—Ç–∫—Ä—ã—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω</button>
        
        <div id="log" class="log"></div>
    </div>

    <script>
        function log(message) {
            const logElement = document.getElementById('log');
            const timestamp = new Date().toLocaleTimeString();
            logElement.innerHTML += `<div>[${timestamp}] ${message}</div>`;
            logElement.scrollTop = logElement.scrollHeight;
            console.log(message);
        }

        function updateStatus(message, type) {
            const status = document.getElementById('initStatus');
            status.textContent = message;
            status.className = `status ${type}`;
        }

        async function testAppInit() {
            log('üöÄ –ù–∞—á–∏–Ω–∞–µ–º —Ç–µ—Å—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è...');
            updateStatus('üîÑ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ...', 'info');
            
            try {
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
                log('üì¶ –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–¥—É–ª–µ–π...');
                const modules = [
                    '/src/state.js',
                    '/src/renderer.js',
                    '/src/app.js',
                    '/app.css'
                ];
                
                for (const module of modules) {
                    const response = await fetch(module);
                    if (response.ok) {
                        log(`‚úÖ ${module}: –¥–æ—Å—Ç—É–ø–µ–Ω`);
                    } else {
                        throw new Error(`${module}: –æ—à–∏–±–∫–∞ ${response.status}`);
                    }
                }
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
                log('üåê –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è...');
                const indexResponse = await fetch('/index.html');
                if (indexResponse.ok) {
                    const indexContent = await indexResponse.text();
                    
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
                    if (indexContent.includes('id="app"')) {
                        log('‚úÖ #app —ç–ª–µ–º–µ–Ω—Ç –Ω–∞–π–¥–µ–Ω –≤ HTML');
                    } else {
                        throw new Error('#app —ç–ª–µ–º–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ HTML');
                    }
                    
                    if (indexContent.includes('src/app.js')) {
                        log('‚úÖ app.js –ø–æ–¥–∫–ª—é—á–µ–Ω');
                    } else {
                        throw new Error('app.js –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω');
                    }
                    
                    if (indexContent.includes('app.css')) {
                        log('‚úÖ app.css –ø–æ–¥–∫–ª—é—á–µ–Ω');
                    } else {
                        throw new Error('app.css –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω');
                    }
                    
                } else {
                    throw new Error(`index.html –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω: ${indexResponse.status}`);
                }
                
                log('‚úÖ –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ!');
                updateStatus('‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ –∑–∞–ø—É—Å–∫—É', 'success');
                
            } catch (error) {
                log(`‚ùå –û—à–∏–±–∫–∞: ${error.message}`);
                updateStatus('‚ùå –ü—Ä–æ–±–ª–µ–º—ã —Å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π', 'error');
            }
        }

        function openMainApp() {
            log('üöÄ –û—Ç–∫—Ä—ã—Ç–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è...');
            window.open('/index.html', '_blank');
        }

        function openRestoredDesign() {
            log('üé® –û—Ç–∫—Ä—ã—Ç–∏–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –¥–∏–∑–∞–π–Ω–∞...');
            window.open('/restore-design.html', '_blank');
        }

        // –ê–≤—Ç–æ—Ç–µ—Å—Ç –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('load', () => {
            log('üß™ Test App Initialization –∑–∞–≥—Ä—É–∂–µ–Ω');
            setTimeout(testAppInit, 1000);
        });
    </script>
</body>
</html>