<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FlashPost - –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è)</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Playfair+Display:wght@400;500;600;700;800;900&family=Bebas+Neue:wght@400&display=swap&subset=latin,cyrillic" rel="stylesheet">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #0f0f14 0%, #1a1a2e 50%, #16213e 100%);
            color: #ffffff;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 40px;
            max-width: 600px;
            width: 100%;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        
        .title {
            font-size: 32px;
            font-weight: 800;
            background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .status {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .status-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .status-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .status-item:last-child {
            border-bottom: none;
        }
        
        .status-indicator {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .status-success {
            background: #4CAF50;
            color: white;
        }
        
        .status-error {
            background: #f44336;
            color: white;
        }
        
        .status-warning {
            background: #ff9800;
            color: white;
        }
        
        .btn {
            background: linear-gradient(135deg, #833ab4 0%, #fd1d1d 50%, #fcb045 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin: 10px 0;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(131, 58, 180, 0.3);
        }
        
        .btn-secondary {
            background: rgba(255, 255, 255, 0.15);
            color: rgba(255, 255, 255, 0.9);
            border: 2px solid rgba(255, 255, 255, 0.2);
        }
        
        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.25);
        }
        
        .console {
            background: #1a1a1a;
            color: #00ff00;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            max-height: 200px;
            overflow-y: auto;
            margin: 15px 0;
        }
        
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="title">üöÄ FlashPost - –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫</h1>
        
        <!-- –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã -->
        <div class="status">
            <div class="status-title">üìä –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã</div>
            <div class="status-item">
                <span>–ú–æ–¥—É–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã</span>
                <span class="status-indicator" id="modules-status">–ü–†–û–í–ï–†–ö–ê</span>
            </div>
            <div class="status-item">
                <span>DOM –≥–æ—Ç–æ–≤</span>
                <span class="status-indicator status-success">–ì–û–¢–û–í</span>
            </div>
            <div class="status-item">
                <span>–®—Ä–∏—Ñ—Ç—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã</span>
                <span class="status-indicator" id="fonts-status">–ü–†–û–í–ï–†–ö–ê</span>
            </div>
            <div class="status-item">
                <span>Telegram API</span>
                <span class="status-indicator" id="telegram-status">–ü–†–û–í–ï–†–ö–ê</span>
            </div>
        </div>
        
        <!-- –ö–æ–Ω—Å–æ–ª—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ -->
        <div class="console" id="console"></div>
        
        <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
        <button class="btn" onclick="runDiagnostics()">üîß –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É</button>
        <button class="btn btn-secondary" onclick="openMainApp()">üì± –û—Ç–∫—Ä—ã—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</button>
        <button class="btn btn-secondary" onclick="openWorkingApp()">‚úÖ –û—Ç–∫—Ä—ã—Ç—å —Ä–∞–±–æ—á—É—é –≤–µ—Ä—Å–∏—é</button>
        <button class="btn btn-secondary" onclick="openVerificationTests()">üß™ –û—Ç–∫—Ä—ã—Ç—å —Ç–µ—Å—Ç—ã –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏</button>
    </div>

    <script>
        // –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
        function log(message, type = 'info') {
            const console = document.getElementById('console');
            const timestamp = new Date().toLocaleTimeString();
            const color = type === 'error' ? '#ff4444' : type === 'success' ? '#44ff44' : '#00ff00';
            console.innerHTML += `<div style="color: ${color}">[${timestamp}] ${message}</div>`;
            console.scrollTop = console.scrollHeight;
        }
        
        function updateStatus(elementId, status, text) {
            const element = document.getElementById(elementId);
            if (element) {
                element.className = `status-indicator status-${status}`;
                element.textContent = text;
            }
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–¥—É–ª–µ–π
        function checkModules() {
            log('–ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–≥—Ä—É–∑–∫—É –º–æ–¥—É–ª–µ–π...');
            
            const requiredClasses = [
                'StateManager', 'Renderer', 'Editor', 'FlashPostApp',
                'DOMUpdateQueue', 'EventManager'
            ];
            
            let loadedCount = 0;
            
            requiredClasses.forEach(className => {
                if (typeof window[className] !== 'undefined') {
                    log(`‚úÖ ${className} –∑–∞–≥—Ä—É–∂–µ–Ω`, 'success');
                    loadedCount++;
                } else {
                    log(`‚ùå ${className} –Ω–µ –Ω–∞–π–¥–µ–Ω`, 'error');
                }
            });
            
            if (loadedCount === requiredClasses.length) {
                updateStatus('modules-status', 'success', '–ó–ê–ì–†–£–ñ–ï–ù–´');
                log(`‚úÖ –í—Å–µ ${loadedCount} –º–æ–¥—É–ª–µ–π –∑–∞–≥—Ä—É–∂–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ`, 'success');
                return true;
            } else {
                updateStatus('modules-status', 'warning', `${loadedCount}/${requiredClasses.length}`);
                log(`‚ö†Ô∏è –ó–∞–≥—Ä—É–∂–µ–Ω–æ —Ç–æ–ª—å–∫–æ ${loadedCount}/${requiredClasses.length} –º–æ–¥—É–ª–µ–π`, 'warning');
                return false;
            }
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —à—Ä–∏—Ñ—Ç–æ–≤
        function checkFonts() {
            log('–ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–≥—Ä—É–∑–∫—É —à—Ä–∏—Ñ—Ç–æ–≤...');
            
            const fonts = ['Inter', 'Playfair Display', 'Bebas Neue'];
            let fontsLoaded = 0;
            
            fonts.forEach(font => {
                if (document.fonts.check(`16px "${font}"`)) {
                    log(`‚úÖ –®—Ä–∏—Ñ—Ç ${font} –∑–∞–≥—Ä—É–∂–µ–Ω`, 'success');
                    fontsLoaded++;
                } else {
                    log(`‚ö†Ô∏è –®—Ä–∏—Ñ—Ç ${font} –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω`, 'warning');
                }
            });
            
            if (fontsLoaded >= 2) {
                updateStatus('fonts-status', 'success', '–ó–ê–ì–†–£–ñ–ï–ù–´');
                return true;
            } else {
                updateStatus('fonts-status', 'warning', `${fontsLoaded}/${fonts.length}`);
                return false;
            }
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ Telegram API
        function checkTelegram() {
            log('–ü—Ä–æ–≤–µ—Ä—è–µ–º Telegram WebApp API...');
            
            if (typeof window.Telegram !== 'undefined' && window.Telegram.WebApp) {
                log('‚úÖ Telegram WebApp API –¥–æ—Å—Ç—É–ø–µ–Ω', 'success');
                updateStatus('telegram-status', 'success', '–î–û–°–¢–£–ü–ï–ù');
                return true;
            } else {
                log('‚ö†Ô∏è Telegram WebApp API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (–Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞)', 'warning');
                updateStatus('telegram-status', 'warning', 'MOCK');
                return false;
            }
        }
        
        // –ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
        function runDiagnostics() {
            log('üîß –ó–∞–ø—É—Å–∫–∞–µ–º –ø–æ–ª–Ω—É—é –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É —Å–∏—Å—Ç–µ–º—ã...', 'info');
            
            setTimeout(() => {
                const modulesOk = checkModules();
                const fontsOk = checkFonts();
                const telegramOk = checkTelegram();
                
                log('üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:', 'info');
                log(`   –ú–æ–¥—É–ª–∏: ${modulesOk ? '‚úÖ' : '‚ùå'}`, modulesOk ? 'success' : 'error');
                log(`   –®—Ä–∏—Ñ—Ç—ã: ${fontsOk ? '‚úÖ' : '‚ö†Ô∏è'}`, fontsOk ? 'success' : 'warning');
                log(`   Telegram: ${telegramOk ? '‚úÖ' : '‚ö†Ô∏è'}`, telegramOk ? 'success' : 'warning');
                
                if (modulesOk && fontsOk) {
                    log('üéâ –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ!', 'success');
                } else {
                    log('‚ö†Ô∏è –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏', 'warning');
                }
            }, 500);
        }
        
        // –§—É–Ω–∫—Ü–∏–∏ –æ—Ç–∫—Ä—ã—Ç–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
        function openMainApp() {
            log('üì± –û—Ç–∫—Ä—ã–≤–∞–µ–º –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ...', 'info');
            window.open('index.html', '_blank');
        }
        
        function openWorkingApp() {
            log('‚úÖ –û—Ç–∫—Ä—ã–≤–∞–µ–º —Ä–∞–±–æ—á—É—é –≤–µ—Ä—Å–∏—é...', 'info');
            window.open('working-app.html', '_blank');
        }
        
        function openVerificationTests() {
            log('üß™ –û—Ç–∫—Ä—ã–≤–∞–µ–º —Ç–µ—Å—Ç—ã –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏...', 'info');
            window.open('STAGE-1-VERIFICATION-TEST.html', '_blank');
        }
        
        // –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('load', () => {
            log('üöÄ FlashPost Quick Launch –∑–∞–≥—Ä—É–∂–µ–Ω', 'success');
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ–º –±–∞–∑–æ–≤—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
            setTimeout(() => {
                checkFonts();
                checkTelegram();
            }, 1000);
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
            setTimeout(() => {
                log('üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ FlashPost!', 'success');
                log('üí° –ù–∞–∂–º–∏—Ç–µ "–ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É" –¥–ª—è –ø–æ–ª–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏', 'info');
            }, 1500);
        });
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –º–æ–¥—É–ª–µ–π –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', () => {
            // –ü—ã—Ç–∞–µ–º—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å –º–æ–¥—É–ª–∏ –µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã
            if (typeof window.StateManager === 'undefined') {
                log('‚ö†Ô∏è –ú–æ–¥—É–ª–∏ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã, –∏—Å–ø–æ–ª—å–∑—É–µ–º SAFE MODE', 'warning');
                updateStatus('modules-status', 'warning', 'SAFE MODE');
            }
        });
    </script>
</body>
</html>