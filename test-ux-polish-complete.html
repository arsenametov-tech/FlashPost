<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FlashPost UX Polish - Complete Test</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f5f5;
            margin: 0;
            padding: 20px;
        }
        
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #e9ecef;
            border-radius: 8px;
        }
        
        .test-button {
            background: #2481cc;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            margin: 5px;
            font-size: 14px;
        }
        
        .test-button:hover {
            background: #1a6ba8;
        }
        
        .status {
            padding: 10px;
            border-radius: 6px;
            margin: 10px 0;
            font-weight: 500;
        }
        
        .status-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .status-error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .status-info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        
        .feature-demo {
            border: 2px dashed #dee2e6;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            text-align: center;
        }
        
        iframe {
            width: 100%;
            height: 600px;
            border: 1px solid #dee2e6;
            border-radius: 8px;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>üé® FlashPost UX Polish - Complete Test</h1>
        <p>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö UX —É–ª—É—á—à–µ–Ω–∏–π –≤ FlashPost MVP</p>
        
        <div class="test-section">
            <h2>üì± Live App Test</h2>
            <p>–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å UX —É–ª—É—á—à–µ–Ω–∏—è–º–∏:</p>
            <iframe src="flashpost-mvp-ux-polished.html"></iframe>
        </div>
        
        <div class="test-section">
            <h2>‚úÖ UX Features Checklist</h2>
            <div id="featuresStatus">
                <div class="status status-info">–ü—Ä–æ–≤–µ—Ä—è–µ–º —Ñ—É–Ω–∫—Ü–∏–∏...</div>
            </div>
            <button class="test-button" onclick="testAllFeatures()">üß™ Test All UX Features</button>
        </div>
        
        <div class="test-section">
            <h2>üéØ Navigation Improvements</h2>
            <div class="feature-demo">
                <h3>Navigation Hints</h3>
                <p>‚úÖ "–õ–∏—Å—Ç–∞–π" text (left bottom)</p>
                <p>‚úÖ Custom arrow (right bottom)</p>
                <p>‚úÖ Light animations (pulse + slide)</p>
                <p>‚úÖ Swipe gesture support</p>
            </div>
        </div>
        
        <div class="test-section">
            <h2>üì∏ Instagram Integration</h2>
            <div class="feature-demo">
                <h3>Instagram Nickname System</h3>
                <p>‚úÖ Input field in editor</p>
                <p>‚úÖ Display on first slide (top-left)</p>
                <p>‚úÖ Display on last slide (top-left + CTA)</p>
                <p>‚úÖ Data stored in project.meta.instagram</p>
                <p>‚úÖ Auto-save to localStorage</p>
            </div>
        </div>
        
        <div class="test-section">
            <h2>üìè Text Width Controls</h2>
            <div class="feature-demo">
                <h3>Visual Resize System</h3>
                <p>‚úÖ Visual resize handle on right side</p>
                <p>‚úÖ Modifies block.width property</p>
                <p>‚úÖ Preserves drag positioning</p>
                <p>‚úÖ Synced with width slider</p>
                <p>‚úÖ Touch-friendly interaction</p>
            </div>
        </div>
        
        <div class="test-section">
            <h2>üñºÔ∏è Background Image System</h2>
            <div class="feature-demo">
                <h3>Image Upload & Management</h3>
                <p>‚úÖ Image upload functionality</p>
                <p>‚úÖ "Apply to all slides" checkbox</p>
                <p>‚úÖ Data saved in slide.background</p>
                <p>‚úÖ File type validation</p>
                <p>‚úÖ User feedback notifications</p>
            </div>
        </div>
        
        <div class="test-section">
            <h2>üîß Technical Implementation</h2>
            <div class="feature-demo">
                <h3>Safe UI Mode Compliance</h3>
                <p>‚úÖ No changes to AI logic</p>
                <p>‚úÖ State structure preserved</p>
                <p>‚úÖ Renderer not rewritten</p>
                <p>‚úÖ Only UX elements modified</p>
                <p>‚úÖ Built-in browser APIs only</p>
            </div>
        </div>
        
        <div class="test-section">
            <h2>üìä Test Results</h2>
            <div id="testResults">
                <div class="status status-info">–ù–∞–∂–º–∏—Ç–µ "Test All UX Features" –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤</div>
            </div>
        </div>
    </div>

    <script>
        function testAllFeatures() {
            const statusDiv = document.getElementById('featuresStatus');
            const resultsDiv = document.getElementById('testResults');
            
            statusDiv.innerHTML = '<div class="status status-info">üß™ –¢–µ—Å—Ç–∏—Ä—É–µ–º UX —Ñ—É–Ω–∫—Ü–∏–∏...</div>';
            
            const tests = [
                {
                    name: 'Navigation Hints',
                    test: () => {
                        // Test if navigation elements exist in iframe
                        try {
                            const iframe = document.querySelector('iframe');
                            const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                            const leftHint = iframeDoc.querySelector('.nav-hint-left');
                            const rightHint = iframeDoc.querySelector('.nav-hint-right');
                            const customArrow = iframeDoc.querySelector('.custom-arrow');
                            
                            return leftHint && rightHint && customArrow;
                        } catch (e) {
                            return false;
                        }
                    }
                },
                {
                    name: 'Instagram Input Field',
                    test: () => {
                        try {
                            const iframe = document.querySelector('iframe');
                            const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                            const instagramInput = iframeDoc.querySelector('#instagramInput');
                            
                            return instagramInput && instagramInput.placeholder.includes('@username');
                        } catch (e) {
                            return false;
                        }
                    }
                },
                {
                    name: 'Text Width Slider',
                    test: () => {
                        try {
                            const iframe = document.querySelector('iframe');
                            const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                            const widthSlider = iframeDoc.querySelector('#widthSlider');
                            
                            return widthSlider && widthSlider.type === 'range';
                        } catch (e) {
                            return false;
                        }
                    }
                },
                {
                    name: 'Background Image Upload',
                    test: () => {
                        try {
                            const iframe = document.querySelector('iframe');
                            const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                            const bgUpload = iframeDoc.querySelector('.bg-image-upload input[type="file"]');
                            const applyAllCheckbox = iframeDoc.querySelector('#applyToAllCheckbox');
                            
                            return bgUpload && applyAllCheckbox;
                        } catch (e) {
                            return false;
                        }
                    }
                },
                {
                    name: 'Slide Toolbar',
                    test: () => {
                        try {
                            const iframe = document.querySelector('iframe');
                            const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                            const toolbar = iframeDoc.querySelector('.slide-toolbar');
                            const toolbarBtns = iframeDoc.querySelectorAll('.toolbar-btn');
                            
                            return toolbar && toolbarBtns.length >= 5;
                        } catch (e) {
                            return false;
                        }
                    }
                },
                {
                    name: 'Controls Panels',
                    test: () => {
                        try {
                            const iframe = document.querySelector('iframe');
                            const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                            const textControls = iframeDoc.querySelector('#textControls');
                            const aiControls = iframeDoc.querySelector('#aiControls');
                            const bgControls = iframeDoc.querySelector('#bgControls');
                            
                            return textControls && aiControls && bgControls;
                        } catch (e) {
                            return false;
                        }
                    }
                }
            ];
            
            setTimeout(() => {
                let passedTests = 0;
                let results = '<h3>üß™ Test Results:</h3>';
                
                tests.forEach(test => {
                    const passed = test.test();
                    if (passed) passedTests++;
                    
                    results += `<div class="status ${passed ? 'status-success' : 'status-error'}">
                        ${passed ? '‚úÖ' : '‚ùå'} ${test.name}: ${passed ? 'PASSED' : 'FAILED'}
                    </div>`;
                });
                
                const overallStatus = passedTests === tests.length ? 'success' : 
                                   passedTests > tests.length / 2 ? 'info' : 'error';
                
                results += `<div class="status status-${overallStatus}">
                    <strong>Overall: ${passedTests}/${tests.length} tests passed</strong>
                </div>`;
                
                statusDiv.innerHTML = `<div class="status status-${overallStatus}">
                    ‚úÖ Testing complete: ${passedTests}/${tests.length} features working
                </div>`;
                
                resultsDiv.innerHTML = results;
            }, 2000);
        }
        
        // Auto-test on load
        window.addEventListener('load', () => {
            setTimeout(() => {
                testAllFeatures();
            }, 3000);
        });
    </script>
</body>
</html>