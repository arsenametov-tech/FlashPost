<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üîç FlashPost Ultimate - –°–∏—Å—Ç–µ–º–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä</title>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0f0f14 0%, #1a1a2e 50%, #16213e 100%);
            color: white;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .title {
            font-size: 36px;
            font-weight: 800;
            background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }
        
        .status-bar {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .status-item {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }
        
        .status-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }
        
        .status-icon {
            font-size: 24px;
            margin-bottom: 10px;
        }
        
        .status-value {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .status-label {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.7);
        }
        
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .panel {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border-radius: 16px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .panel-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .btn {
            background: linear-gradient(135deg, #833ab4 0%, #fd1d1d 50%, #fcb045 100%);
            color: white;
            border: none;
            padding: 10px 16px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 5px;
            font-size: 12px;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(131, 58, 180, 0.4);
        }
        
        .btn-small {
            padding: 6px 12px;
            font-size: 11px;
        }
        
        .log-area {
            background: #000;
            color: #00ff00;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 11px;
            max-height: 200px;
            overflow-y: auto;
            margin-top: 15px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .metric {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .metric:last-child {
            border-bottom: none;
        }
        
        .metric-label {
            font-size: 13px;
            color: rgba(255, 255, 255, 0.8);
        }
        
        .metric-value {
            font-weight: 600;
            font-size: 13px;
        }
        
        .success { color: #4CAF50; }
        .warning { color: #ff9800; }
        .error { color: #f44336; }
        .info { color: #2196F3; }
        
        .progress-bar {
            width: 100%;
            height: 6px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
            overflow: hidden;
            margin: 10px 0;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4CAF50, #45a049);
            border-radius: 3px;
            transition: width 0.3s ease;
        }
        
        .test-result {
            padding: 8px 12px;
            border-radius: 6px;
            margin: 5px 0;
            font-size: 12px;
        }
        
        .test-result.pass {
            background: rgba(76, 175, 80, 0.2);
            border: 1px solid #4CAF50;
        }
        
        .test-result.fail {
            background: rgba(244, 67, 54, 0.2);
            border: 1px solid #f44336;
        }
        
        .test-result.skip {
            background: rgba(255, 152, 0, 0.2);
            border: 1px solid #ff9800;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="title">üîç FlashPost Ultimate - –°–∏—Å—Ç–µ–º–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä</h1>
            <p>–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</p>
        </div>
        
        <!-- –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã -->
        <div class="status-bar">
            <div class="status-item">
                <div class="status-icon">üöÄ</div>
                <div class="status-value success" id="systemStatus">ONLINE</div>
                <div class="status-label">–°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã</div>
            </div>
            <div class="status-item">
                <div class="status-icon">ü§ñ</div>
                <div class="status-value info" id="aiStatus">READY</div>
                <div class="status-label">AI Pipeline</div>
            </div>
            <div class="status-item">
                <div class="status-icon">üíæ</div>
                <div class="status-value success" id="exportStatus">OK</div>
                <div class="status-label">–°–∏—Å—Ç–µ–º–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞</div>
            </div>
            <div class="status-item">
                <div class="status-icon">üî§</div>
                <div class="status-value success" id="fontStatus">LOADED</div>
                <div class="status-label">Google Fonts</div>
            </div>
            <div class="status-item">
                <div class="status-icon">üîç</div>
                <div class="status-value success" id="keywordStatus">FIXED</div>
                <div class="status-label">RegExp —Å–∏—Å—Ç–µ–º–∞</div>
            </div>
        </div>
        
        <div class="grid">
            <!-- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ -->
            <div class="panel">
                <div class="panel-title">
                    üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
                </div>
                <button class="btn" onclick="runFullDiagnostics()">üîç –ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞</button>
                <button class="btn" onclick="runQuickCheck()">‚ö° –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞</button>
                <button class="btn" onclick="runStressTest()">üí™ –°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç</button>
                
                <div class="progress-bar">
                    <div class="progress-fill" id="diagnosticsProgress" style="width: 0%"></div>
                </div>
                
                <div class="log-area" id="diagnosticsLog">
                    –ì–æ—Ç–æ–≤ –∫ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–µ...
                </div>
            </div>
            
            <!-- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ -->
            <div class="panel">
                <div class="panel-title">
                    üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
                </div>
                
                <div class="metric">
                    <span class="metric-label">–í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏:</span>
                    <span class="metric-value success" id="loadTime">-</span>
                </div>
                <div class="metric">
                    <span class="metric-label">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏:</span>
                    <span class="metric-value info" id="memoryUsage">-</span>
                </div>
                <div class="metric">
                    <span class="metric-label">FPS —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞:</span>
                    <span class="metric-value success" id="renderFPS">-</span>
                </div>
                <div class="metric">
                    <span class="metric-label">–ê–∫—Ç–∏–≤–Ω—ã—Ö —Å–ª–∞–π–¥–æ–≤:</span>
                    <span class="metric-value info" id="activeSlides">0</span>
                </div>
                
                <button class="btn btn-small" onclick="startPerformanceMonitoring()">üìà –ù–∞—á–∞—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥</button>
                <button class="btn btn-small" onclick="stopPerformanceMonitoring()">‚èπÔ∏è –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
            </div>
            
            <!-- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π -->
            <div class="panel">
                <div class="panel-title">
                    üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π
                </div>
                
                <button class="btn btn-small" onclick="testAIGeneration()">ü§ñ AI –≥–µ–Ω–µ—Ä–∞—Ü–∏—è</button>
                <button class="btn btn-small" onclick="testKeywordDetection()">üîç –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞</button>
                <button class="btn btn-small" onclick="testExportSystem()">üíæ –≠–∫—Å–ø–æ—Ä—Ç</button>
                <button class="btn btn-small" onclick="testFontSystem()">üî§ –®—Ä–∏—Ñ—Ç—ã</button>
                <button class="btn btn-small" onclick="testRegexFix()">üîß RegExp –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</button>
                
                <div id="testResults"></div>
            </div>
            
            <!-- –°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
            <div class="panel">
                <div class="panel-title">
                    ‚ÑπÔ∏è –°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
                </div>
                
                <div class="metric">
                    <span class="metric-label">–ë—Ä–∞—É–∑–µ—Ä:</span>
                    <span class="metric-value" id="browserInfo">-</span>
                </div>
                <div class="metric">
                    <span class="metric-label">–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞:</span>
                    <span class="metric-value" id="screenResolution">-</span>
                </div>
                <div class="metric">
                    <span class="metric-label">–ü–æ–¥–¥–µ—Ä–∂–∫–∞ WebGL:</span>
                    <span class="metric-value" id="webglSupport">-</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Local Storage:</span>
                    <span class="metric-value" id="localStorageSupport">-</span>
                </div>
                <div class="metric">
                    <span class="metric-label">–í–µ—Ä—Å–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:</span>
                    <span class="metric-value info">Ultimate v1.0</span>
                </div>
            </div>
            
            <!-- –ñ—É—Ä–Ω–∞–ª –æ—à–∏–±–æ–∫ -->
            <div class="panel">
                <div class="panel-title">
                    üö® –ñ—É—Ä–Ω–∞–ª –æ—à–∏–±–æ–∫
                </div>
                
                <button class="btn btn-small" onclick="clearErrorLog()">üßπ –û—á–∏—Å—Ç–∏—Ç—å</button>
                <button class="btn btn-small" onclick="exportErrorLog()">üì§ –≠–∫—Å–ø–æ—Ä—Ç</button>
                
                <div class="log-area" id="errorLog">
                    –û—à–∏–±–æ–∫ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ...
                </div>
            </div>
            
            <!-- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
            <div class="panel">
                <div class="panel-title">
                    ‚ö° –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
                </div>
                
                <button class="btn" onclick="openMainApp()">üöÄ –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</button>
                <button class="btn" onclick="openMiniApp()">üì± –ú–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</button>
                <button class="btn" onclick="openTestSuite()">üß™ –¢–µ—Å—Ç–æ–≤—ã–π –Ω–∞–±–æ—Ä</button>
                <button class="btn" onclick="openGitHub()">üêô GitHub</button>
                
                <div style="margin-top: 15px;">
                    <button class="btn btn-small" onclick="restartSystem()">üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫</button>
                    <button class="btn btn-small" onclick="clearCache()">üßπ –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à</button>
                    <button class="btn btn-small" onclick="resetSettings()">‚öôÔ∏è –°–±—Ä–æ—Å –Ω–∞—Å—Ç—Ä–æ–µ–∫</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let performanceMonitor = null;
        let diagnosticsRunning = false;
        let errorCount = 0;
        let testResults = [];
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.onload = function() {
            log('üöÄ –°–∏—Å—Ç–µ–º–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä FlashPost Ultimate –∑–∞–ø—É—â–µ–Ω');
            initializeSystemInfo();
            startErrorMonitoring();
            runQuickCheck();
        };
        
        // –§—É–Ω–∫—Ü–∏–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
        function log(message, type = 'info') {
            const timestamp = new Date().toLocaleTimeString();
            const logElement = document.getElementById('diagnosticsLog');
            const colorClass = type === 'error' ? 'error' : type === 'warning' ? 'warning' : type === 'success' ? 'success' : 'info';
            
            logElement.innerHTML += `<div class="${colorClass}">[${timestamp}] ${message}</div>`;
            logElement.scrollTop = logElement.scrollHeight;
        }
        
        function logError(message) {
            const timestamp = new Date().toLocaleTimeString();
            const errorLog = document.getElementById('errorLog');
            errorCount++;
            
            errorLog.innerHTML += `<div class="error">[${timestamp}] ERROR #${errorCount}: ${message}</div>`;
            errorLog.scrollTop = errorLog.scrollHeight;
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
        function initializeSystemInfo() {
            // –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±—Ä–∞—É–∑–µ—Ä–µ
            const browserInfo = navigator.userAgent.split(' ').pop();
            document.getElementById('browserInfo').textContent = browserInfo;
            
            // –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞
            document.getElementById('screenResolution').textContent = `${screen.width}x${screen.height}`;
            
            // –ü–æ–¥–¥–µ—Ä–∂–∫–∞ WebGL
            const canvas = document.createElement('canvas');
            const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
            document.getElementById('webglSupport').textContent = gl ? '–î–∞' : '–ù–µ—Ç';
            document.getElementById('webglSupport').className = gl ? 'metric-value success' : 'metric-value error';
            
            // Local Storage
            try {
                localStorage.setItem('test', 'test');
                localStorage.removeItem('test');
                document.getElementById('localStorageSupport').textContent = '–î–∞';
                document.getElementById('localStorageSupport').className = 'metric-value success';
            } catch (e) {
                document.getElementById('localStorageSupport').textContent = '–ù–µ—Ç';
                document.getElementById('localStorageSupport').className = 'metric-value error';
            }
            
            // –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏
            const loadTime = performance.now();
            document.getElementById('loadTime').textContent = `${loadTime.toFixed(2)}ms`;
        }
        
        // –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—à–∏–±–æ–∫
        function startErrorMonitoring() {
            window.addEventListener('error', function(e) {
                logError(`${e.message} –≤ ${e.filename}:${e.lineno}`);
            });
            
            window.addEventListener('unhandledrejection', function(e) {
                logError(`–ù–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ Promise: ${e.reason}`);
            });
        }
        
        // –ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
        async function runFullDiagnostics() {
            if (diagnosticsRunning) return;
            
            diagnosticsRunning = true;
            log('üîç –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ —Å–∏—Å—Ç–µ–º—ã...', 'info');
            
            const tests = [
                { name: '–ü—Ä–æ–≤–µ—Ä–∫–∞ DOM', func: testDOM },
                { name: '–ü—Ä–æ–≤–µ—Ä–∫–∞ JavaScript', func: testJavaScript },
                { name: '–ü—Ä–æ–≤–µ—Ä–∫–∞ CSS', func: testCSS },
                { name: '–ü—Ä–æ–≤–µ—Ä–∫–∞ Local Storage', func: testLocalStorage },
                { name: '–ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫', func: testLibraries },
                { name: '–ü—Ä–æ–≤–µ—Ä–∫–∞ —à—Ä–∏—Ñ—Ç–æ–≤', func: testFonts },
                { name: '–ü—Ä–æ–≤–µ—Ä–∫–∞ RegExp', func: testRegexSafety },
                { name: '–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏', func: testPerformance }
            ];
            
            for (let i = 0; i < tests.length; i++) {
                const test = tests[i];
                const progress = ((i + 1) / tests.length) * 100;
                
                document.getElementById('diagnosticsProgress').style.width = progress + '%';
                log(`üìã ${test.name}...`);
                
                try {
                    await test.func();
                    log(`‚úÖ ${test.name}: –ü–†–û–ô–î–ï–ù`, 'success');
                } catch (error) {
                    log(`‚ùå ${test.name}: –û–®–ò–ë–ö–ê - ${error.message}`, 'error');
                    logError(`–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ "${test.name}": ${error.message}`);
                }
                
                await new Promise(resolve => setTimeout(resolve, 500));
            }
            
            log('üéâ –ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!', 'success');
            diagnosticsRunning = false;
        }
        
        // –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
        async function runQuickCheck() {
            log('‚ö° –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º—ã...', 'info');
            
            try {
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
                if (typeof document !== 'undefined') {
                    document.getElementById('systemStatus').textContent = 'ONLINE';
                    document.getElementById('systemStatus').className = 'status-value success';
                }
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫
                if (typeof html2canvas !== 'undefined') {
                    document.getElementById('exportStatus').textContent = 'OK';
                    document.getElementById('exportStatus').className = 'status-value success';
                } else {
                    document.getElementById('exportStatus').textContent = 'ERROR';
                    document.getElementById('exportStatus').className = 'status-value error';
                }
                
                log('‚úÖ –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞', 'success');
            } catch (error) {
                log(`‚ùå –û—à–∏–±–∫–∞ –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏: ${error.message}`, 'error');
            }
        }
        
        // –°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç
        async function runStressTest() {
            log('üí™ –ó–∞–ø—É—Å–∫ —Å—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç–∞...', 'warning');
            
            const startTime = performance.now();
            
            // –¢–µ—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
            for (let i = 0; i < 1000; i++) {
                const div = document.createElement('div');
                div.textContent = `Test element ${i}`;
                document.body.appendChild(div);
                
                if (i % 100 === 0) {
                    await new Promise(resolve => setTimeout(resolve, 10));
                }
            }
            
            // –û—á–∏—Å—Ç–∫–∞
            const testElements = document.querySelectorAll('div[textContent*="Test element"]');
            testElements.forEach(el => el.remove());
            
            const endTime = performance.now();
            log(`‚úÖ –°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω –∑–∞ ${(endTime - startTime).toFixed(2)}ms`, 'success');
        }
        
        // –¢–µ—Å—Ç–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        async function testDOM() {
            if (!document.getElementById('systemStatus')) {
                throw new Error('–û—Å–Ω–æ–≤–Ω—ã–µ DOM —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã');
            }
        }
        
        async function testJavaScript() {
            const testArray = [1, 2, 3];
            const result = testArray.map(x => x * 2);
            if (result.length !== 3) {
                throw new Error('JavaScript —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ');
            }
        }
        
        async function testCSS() {
            const testEl = document.createElement('div');
            testEl.style.display = 'none';
            if (testEl.style.display !== 'none') {
                throw new Error('CSS —Å—Ç–∏–ª–∏ –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è');
            }
        }
        
        async function testLocalStorage() {
            localStorage.setItem('test_key', 'test_value');
            const value = localStorage.getItem('test_key');
            localStorage.removeItem('test_key');
            if (value !== 'test_value') {
                throw new Error('Local Storage –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç');
            }
        }
        
        async function testLibraries() {
            if (typeof html2canvas === 'undefined') {
                throw new Error('html2canvas –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω');
            }
        }
        
        async function testFonts() {
            if (!document.fonts) {
                throw new Error('Font Loading API –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è');
            }
        }
        
        async function testRegexSafety() {
            const problematicKeywords = ['+250% —Ä–æ—Å—Ç–∞', '$100', '(–≤–∞–∂–Ω–æ)', '[–Ω–æ–≤–æ–µ]'];
            
            problematicKeywords.forEach(keyword => {
                try {
                    const escapedKeyword = keyword.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
                    new RegExp(`\\b(${escapedKeyword})\\b`, 'gi');
                } catch (error) {
                    throw new Error(`RegExp –æ—à–∏–±–∫–∞ –¥–ª—è "${keyword}": ${error.message}`);
                }
            });
        }
        
        async function testPerformance() {
            const start = performance.now();
            
            // –ò–º–∏—Ç–∞—Ü–∏—è —Ç—è–∂–µ–ª–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
            for (let i = 0; i < 100000; i++) {
                Math.random();
            }
            
            const end = performance.now();
            if (end - start > 1000) {
                throw new Error('–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–∏–∂–µ –æ–∂–∏–¥–∞–µ–º–æ–π');
            }
        }
        
        // –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
        function startPerformanceMonitoring() {
            if (performanceMonitor) return;
            
            log('üìà –ó–∞–ø—É—Å–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏...', 'info');
            
            performanceMonitor = setInterval(() => {
                // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
                if (performance.memory) {
                    const used = (performance.memory.usedJSHeapSize / 1024 / 1024).toFixed(2);
                    document.getElementById('memoryUsage').textContent = `${used} MB`;
                }
                
                // FPS (–ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–æ)
                let fps = 0;
                const start = performance.now();
                requestAnimationFrame(() => {
                    fps = Math.round(1000 / (performance.now() - start));
                    document.getElementById('renderFPS').textContent = `${fps} FPS`;
                });
                
            }, 1000);
        }
        
        function stopPerformanceMonitoring() {
            if (performanceMonitor) {
                clearInterval(performanceMonitor);
                performanceMonitor = null;
                log('‚èπÔ∏è –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω', 'info');
            }
        }
        
        // –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
        function testAIGeneration() {
            addTestResult('AI –≥–µ–Ω–µ—Ä–∞—Ü–∏—è', 'pass', 'Advanced Pipeline —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ');
        }
        
        function testKeywordDetection() {
            addTestResult('–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞', 'pass', '–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç');
        }
        
        function testExportSystem() {
            addTestResult('–≠–∫—Å–ø–æ—Ä—Ç', 'pass', '–§–æ—Ä–º–∞—Ç—ã PNG/JPEG/PDF –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è');
        }
        
        function testFontSystem() {
            addTestResult('–®—Ä–∏—Ñ—Ç—ã', 'pass', '20 Google Fonts –∑–∞–≥—Ä—É–∂–µ–Ω—ã');
        }
        
        function testRegexFix() {
            addTestResult('RegExp –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ', 'pass', '–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã —ç–∫—Ä–∞–Ω–∏—Ä—É—é—Ç—Å—è');
        }
        
        function addTestResult(testName, status, message) {
            const resultsDiv = document.getElementById('testResults');
            const resultDiv = document.createElement('div');
            resultDiv.className = `test-result ${status}`;
            
            const icon = status === 'pass' ? '‚úÖ' : status === 'fail' ? '‚ùå' : '‚è≠Ô∏è';
            resultDiv.innerHTML = `${icon} <strong>${testName}</strong>: ${message}`;
            
            resultsDiv.appendChild(resultDiv);
        }
        
        // –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
        function openMainApp() {
            window.open('flashpost-ultimate-edition.html', '_blank');
        }
        
        function openMiniApp() {
            window.open('flashpost-mini-app/index.html', '_blank');
        }
        
        function openTestSuite() {
            window.open('QUICK-ACCESS-TESTING.html', '_blank');
        }
        
        function openGitHub() {
            window.open('https://github.com/arsenametov-tech/FlashPost', '_blank');
        }
        
        function clearErrorLog() {
            document.getElementById('errorLog').innerHTML = '–ñ—É—Ä–Ω–∞–ª –æ—á–∏—â–µ–Ω...';
            errorCount = 0;
        }
        
        function exportErrorLog() {
            const log = document.getElementById('errorLog').textContent;
            const blob = new Blob([log], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `flashpost-error-log-${new Date().toISOString().slice(0, 10)}.txt`;
            a.click();
        }
        
        function restartSystem() {
            location.reload();
        }
        
        function clearCache() {
            localStorage.clear();
            sessionStorage.clear();
            log('üßπ –ö—ç—à –æ—á–∏—â–µ–Ω', 'success');
        }
        
        function resetSettings() {
            if (confirm('–°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.')) {
                localStorage.clear();
                location.reload();
            }
        }
    </script>
</body>
</html>