# üöÄ FlashPost - –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø–æ–ª–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

## üìä –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê

### üéØ Entry Points (–¢–æ—á–∫–∏ –≤—Ö–æ–¥–∞):

#### 1. **–ö–æ—Ä–Ω–µ–≤–æ–π –ø—Ä–æ–µ–∫—Ç** (Monolithic)
- **–§–∞–π–ª:** `index.html` (860 —Å—Ç—Ä–æ–∫)
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** Monolithic (–≤—Å–µ –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ)
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** 
  - Telegram WebApp SDK: `https://telegram.org/js/telegram-web-app.js`
  - Google Fonts (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞)
  - `style.css`, `script.js`

#### 2. **–ú–æ–¥—É–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç** (Recommended) ‚≠ê
- **–§–∞–π–ª:** `flashpost-mini-app/index.html`
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** –ú–æ–¥—É–ª—å–Ω–∞—è (`/src` –ø–∞–ø–∫–∞)
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** 
  - Google Fonts (–±–∞–∑–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞)
  - –ú–æ–¥—É–ª–∏ –≤ `/src/` (8 —Ñ–∞–π–ª–æ–≤)

---

## üèóÔ∏è –ú–û–î–£–õ–¨–ù–ê–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–ê (flashpost-mini-app/)

### üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª–µ–π:
```
flashpost-mini-app/
‚îú‚îÄ‚îÄ index.html          # Entry Point
‚îú‚îÄ‚îÄ server.js           # HTTP Server
‚îú‚îÄ‚îÄ package.json        # Node.js config
‚îî‚îÄ‚îÄ src/                # –ú–æ–¥—É–ª–∏
    ‚îú‚îÄ‚îÄ state.js        # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
    ‚îú‚îÄ‚îÄ renderer.js     # –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ UI
    ‚îú‚îÄ‚îÄ editor.js       # –†–µ–¥–∞–∫—Ç–æ—Ä —Å–ª–∞–π–¥–æ–≤
    ‚îú‚îÄ‚îÄ drag.js         # Drag & Drop
    ‚îú‚îÄ‚îÄ export.js       # –≠–∫—Å–ø–æ—Ä—Ç (html2canvas)
    ‚îú‚îÄ‚îÄ ai.js           # AI –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
    ‚îú‚îÄ‚îÄ template-manager.js # –®–∞–±–ª–æ–Ω—ã
    ‚îî‚îÄ‚îÄ app.js          # –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä
```

### üîó –ü–æ—Ä—è–¥–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥—É–ª–µ–π:
```html
<script src="src/state.js"></script>        <!-- 1. –°–æ—Å—Ç–æ—è–Ω–∏–µ -->
<script src="src/renderer.js"></script>     <!-- 2. –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ -->
<script src="src/editor.js"></script>       <!-- 3. –†–µ–¥–∞–∫—Ç–æ—Ä -->
<script src="src/drag.js"></script>         <!-- 4. –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ -->
<script src="src/export.js"></script>       <!-- 5. –≠–∫—Å–ø–æ—Ä—Ç -->
<script src="src/ai.js"></script>           <!-- 6. AI -->
<script src="src/template-manager.js"></script> <!-- 7. –®–∞–±–ª–æ–Ω—ã -->
<script src="src/app.js"></script>          <!-- 8. –ì–ª–∞–≤–Ω—ã–π -->
```

---

## üîß –ó–ê–í–ò–°–ò–ú–û–°–¢–ò

### ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ:
1. **Google Fonts** - –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ CDN
2. **–ú–æ–¥—É–ª–∏ /src/** - –õ–æ–∫–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã

### ‚ö†Ô∏è –£—Å–ª–æ–≤–Ω—ã–µ:
1. **html2canvas** - –î–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
   - –ù–µ –ø–æ–¥–∫–ª—é—á–µ–Ω –≤ index.html
   - –ï—Å—Ç—å fallback –≤ `export.js`
   - –†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –Ω–µ–≥–æ (mock export)

2. **Telegram WebApp SDK** - –î–ª—è Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
   - –ù–µ –ø–æ–¥–∫–ª—é—á–µ–Ω –≤ –º–æ–¥—É–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏
   - –ï—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ `window.Telegram?.WebApp`
   - –†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –Ω–µ–≥–æ (–±—Ä–∞—É–∑–µ—Ä–Ω—ã–π —Ä–µ–∂–∏–º)

### ‚ùå –ù–ï —Ç—Ä–µ–±—É–µ—Ç—Å—è:
- Gemini API (–≤—Å—Ç—Ä–æ–µ–Ω –≤ –∫–æ–¥)
- –í–Ω–µ—à–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
- Node.js –º–æ–¥—É–ª–∏ (—Ç–æ–ª—å–∫–æ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞)

---

## üöÄ –°–ü–û–°–û–ë–´ –ó–ê–ü–£–°–ö–ê

### 1. **HTTP Server** (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) ‚≠ê

#### –ß–µ—Ä–µ–∑ Node.js:
```bash
cd flashpost-mini-app
node server.js
```
**URL:** `http://localhost:8080`

#### –ß–µ—Ä–µ–∑ Python:
```bash
cd flashpost-mini-app
python -m http.server 8080
```
**URL:** `http://localhost:8080`

#### –ß–µ—Ä–µ–∑ Live Server (VS Code):
- –û—Ç–∫—Ä–æ–π—Ç–µ `flashpost-mini-app/index.html`
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ Live Server
- **URL:** `http://127.0.0.1:5500/flashpost-mini-app/`

### 2. **File Protocol** (–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ)
- –û—Ç–∫—Ä–æ–π—Ç–µ `flashpost-mini-app/index.html` –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- **URL:** `file:///path/to/flashpost-mini-app/index.html`
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:** 
  - –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —ç–∫—Å–ø–æ—Ä—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
  - –ú–æ–≥—É—Ç –±—ã—Ç—å CORS –æ—à–∏–±–∫–∏
  - –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ localStorage –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö

### 3. **Dev Preview** (–ï—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è)
- –ó–∞–≤–∏—Å–∏—Ç –æ—Ç IDE/—Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
- –û–±—ã—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ HTTP server

---

## üì± TELEGRAM WEBAPP –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø

### ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –ë–ï–ó Telegram:
- –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã
- UI –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é
- –ï—Å—Ç—å fallback –¥–ª—è –≤—Å–µ—Ö Telegram-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

### üîç –ü—Ä–æ–≤–µ—Ä–∫–∏ –≤ –∫–æ–¥–µ:
```javascript
// –í app.js
this.tg = window.Telegram?.WebApp;
if (this.tg) {
    // Telegram —Ñ—É–Ω–∫—Ü–∏–∏
} else {
    // –ë—Ä–∞—É–∑–µ—Ä–Ω—ã–π —Ä–µ–∂–∏–º
}
```

### üì± –≠–ª–µ–º–µ–Ω—Ç—ã UI –≤–Ω–µ Telegram:
- **–†–∞–±–æ—Ç–∞—é—Ç:** –í—Å–µ —Å–ª–∞–π–¥—ã, —Ä–µ–¥–∞–∫—Ç–æ—Ä, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è, —à–∞–±–ª–æ–Ω—ã
- **–ù–µ —Ä–∞–±–æ—Ç–∞—é—Ç:** MainButton, BackButton, haptic feedback
- **–ó–∞–º–µ–Ω–∞:** –û–±—ã—á–Ω—ã–µ HTML –∫–Ω–æ–ø–∫–∏

---

## üéØ –ß–Å–¢–ö–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø –ó–ê–ü–£–°–ö–ê

### **–ú–µ—Ç–æ–¥ 1: –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ (Node.js)**
```bash
# 1. –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–ø–∫—É
cd flashpost-mini-app

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
node server.js

# 3. –û—Ç–∫—Ä—ã—Ç—å –±—Ä–∞—É–∑–µ—Ä
# http://localhost:8080
```

### **–ú–µ—Ç–æ–¥ 2: Python —Å–µ—Ä–≤–µ—Ä**
```bash
# 1. –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–ø–∫—É
cd flashpost-mini-app

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å Python —Å–µ—Ä–≤–µ—Ä
python -m http.server 8080

# 3. –û—Ç–∫—Ä—ã—Ç—å –±—Ä–∞—É–∑–µ—Ä
# http://localhost:8080
```

### **–ú–µ—Ç–æ–¥ 3: –ü—Ä—è–º–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ**
```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
flashpost-mini-app/index.html
```

---

## ‚ö†Ô∏è –í–û–ó–ú–û–ñ–ù–´–ï "–¢–ò–•–ò–ï" –û–®–ò–ë–ö–ò

### 1. **White Screen –±–µ–∑ –æ—à–∏–±–æ–∫:**
- **–ü—Ä–∏—á–∏–Ω–∞:** –ú–æ–¥—É–ª–∏ –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª–∏—Å—å
- **–ü—Ä–æ–≤–µ—Ä–∫–∞:** F12 ‚Üí Console ‚Üí –æ—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏
- **–†–µ—à–µ–Ω–∏–µ:** –ó–∞–ø—É—Å—Ç–∏—Ç—å —á–µ—Ä–µ–∑ HTTP server

### 2. **–≠–∫—Å–ø–æ—Ä—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- **–ü—Ä–∏—á–∏–Ω–∞:** html2canvas –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω
- **–ü—Ä–æ–≤–µ—Ä–∫–∞:** Console ‚Üí "html2canvas –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω"
- **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å CDN –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å mock

### 3. **CORS –æ—à–∏–±–∫–∏:**
- **–ü—Ä–∏—á–∏–Ω–∞:** file:// protocol
- **–ü—Ä–æ–≤–µ—Ä–∫–∞:** Console ‚Üí "CORS policy"
- **–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HTTP server

### 4. **–®—Ä–∏—Ñ—Ç—ã –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è:**
- **–ü—Ä–∏—á–∏–Ω–∞:** –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ Google Fonts
- **–ü—Ä–æ–≤–µ—Ä–∫–∞:** Network tab ‚Üí failed requests
- **–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å fallback —à—Ä–∏—Ñ—Ç—ã

### 5. **localStorage –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω:**
- **–ü—Ä–∏—á–∏–Ω–∞:** file:// protocol –∏–ª–∏ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π —Ä–µ–∂–∏–º
- **–ü—Ä–æ–≤–µ—Ä–∫–∞:** Console ‚Üí localStorage errors
- **–†–µ—à–µ–Ω–∏–µ:** HTTP server –∏–ª–∏ –æ–±—ã—á–Ω—ã–π —Ä–µ–∂–∏–º –±—Ä–∞—É–∑–µ—Ä–∞

---

## üéØ –†–ï–ö–û–ú–ï–ù–î–£–ï–ú–´–ô –°–ü–û–°–û–ë –ó–ê–ü–£–°–ö–ê

### **–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**
```bash
cd flashpost-mini-app
node server.js
```
**–û—Ç–∫—Ä–æ–π—Ç–µ:** `http://localhost:8080`

### **–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
```bash
cd flashpost-mini-app
python -m http.server 8080
```
**–û—Ç–∫—Ä–æ–π—Ç–µ:** `http://localhost:8080`

### **–î–ª—è –¥–µ–º–æ:**
–û—Ç–∫—Ä–æ–π—Ç–µ `flashpost-mini-app/index.html` –ø—Ä—è–º–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

---

## ‚úÖ –ü–†–û–í–ï–†–ö–ê –†–ê–ë–û–¢–û–°–ü–û–°–û–ë–ù–û–°–¢–ò

### 1. **–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**
- –î–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–º —Ñ–æ–Ω–æ–º
- –í–∏–¥–Ω—ã –ø—É–∑—ã—Ä—å–∫–∏ –∞–Ω–∏–º–∞—Ü–∏–∏
- –ï—Å—Ç—å –ø–æ–ª–µ –≤–≤–æ–¥–∞ —Ç–µ–º—ã

### 2. **–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª–∞–π–¥–æ–≤ (–∫–Ω–æ–ø–∫–∞ "–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å")
- –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Å–ª–∞–π–¥–∞–º (—Å—Ç—Ä–µ–ª–∫–∏)
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ (–∫–ª–∏–∫ –Ω–∞ —Å–ª–∞–π–¥)
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤

### 3. **Console –ø—Ä–æ–≤–µ—Ä–∫–∞:**
```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
"üöÄ FlashPost Mini App —Å–µ—Ä–≤–µ—Ä —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω!"
"‚úÖ –í—Å–µ –º–æ–¥—É–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã"
"‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ"
```

---

## üöÄ –ò–¢–û–ì–û–í–ê–Ø –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–æ–¥—É–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é:**
- **–§–∞–π–ª:** `flashpost-mini-app/index.html`
- **–ó–∞–ø—É—Å–∫:** `node server.js` –≤ –ø–∞–ø–∫–µ `flashpost-mini-app/`
- **URL:** `http://localhost:8080`
- **–ü–æ—Ä—Ç:** 8080 (–∏–ª–∏ –¥—Ä—É–≥–æ–π —Å–≤–æ–±–æ–¥–Ω—ã–π)

**–≠—Ç–æ –¥–∞—Å—Ç –≤–∞–º –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º FlashPost!** üéâ